@model Arasan.Models.ActivitiesCO
@{
    ViewData["Title"] = " Activities Carried Out";
}
<div class="row wrapper border-bottom page-heading">
    <div class="col-lg-12">
        <style>
            .newwidth {
                width: 90px;
            }

            .mandatory {
                color: red;
                position: relative;
                top: 2px;
                left: 5px;
            }
        </style>
        <ol class="breadcrumb">
            <li> <a href="#">Home</a> </li>
            <li> <a>HR</a> </li>
            <li class="active"> <strong> Activities Carried Out </strong> </li>
        </ol>
    </div>
</div>

<div class="wrapper-content ">
    <div class="row">
        <div class="col-lg-12">
            <div class="ibox float-e-margins">
                <div class="widgets-container">
                    <h5 style="font-size:14px">Activities Carried Out</h5>
                    <hr>

                    @using (Html.BeginForm("ActivitiesCO", "ActivitiesCO", FormMethod.Post))

                    {
                        @Html.AntiForgeryToken()

                        <form>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <br /> <label for="inputName3" class="col-sm-4 control-label">Branch<label class="mandatory">*</label></label>
                                        <div class="col-sm-8">
                                            @Html.DropDownListFor(C => C.Brc, Model.Brchlst, " -- Please Select -- ", new { @id = "txtBrc", @Class = "form-control _select newcss", @TabIndex = 1 })
                                            <br />
                                            <br />
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <br /><label for="inputName3" class="col-sm-4 control-label">Location<label class="mandatory">*</label></label>
                                        <div class="col-sm-8">
                                            @Html.DropDownListFor(C => C.Loc, Model.LocLst, " -- Please Select -- ", new { @id = "ddlLoc", @Class = "form-control _select", @TabIndex = 1 })
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <br /><label for="inputName3" class="col-sm-4 control-label">Entry Type<label class="mandatory">*</label></label>
                                        <div class="col-sm-8">
                                            @Html.DropDownListFor(C => C.EnTy, Model.Entlst, " -- Please Select -- ", new { @id = "ddlEnTy", @Class = "form-control _select", @TabIndex = 1 })
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <br /><label for="inputName3" class="col-sm-4 control-label">Document ID.<label class="mandatory">*</label></label>
                                        <div class="col-sm-8">
                                            @Html.TextBoxFor(C => C.Docno, new { @id = "txtDocno", @class = "form-control", @TabIndex = 2, @readonly = true })
                                            @Html.HiddenFor(C => C.ID)
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <br />  <label for="inputName3" class="col-sm-4 control-label">Document Date<label class="mandatory">*</label></label>
                                        <div class="input-group date to_date col-sm-4" data-date="" data-date-format="dd-M-yyyy">
                                            @Html.TextBoxFor(C => C.DocDate, new { @id = "txtDocDate", @class = "form-control", @TabIndex = 2, @size = "32", style = "width: 200px", @readonly = true })
                                            <span class="input-group-addon"><span class="glyphicon glyphicon-remove"></span></span> <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <br /><label for="inputName3" class="col-sm-4 control-label">Activity ID<label class="mandatory">*</label></label>
                                        <div class="col-sm-8">
                                            @Html.DropDownListFor(C => C.ActId, Model.Actilst, " -- Please Select -- ", new { @id = "ddlActId", @Class = "form-control _select", @TabIndex = 1, @onchange = "changeItem(this.value)" })
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <br />  <label for="inputName3" class="col-sm-4 control-label">Activity Date<label class="mandatory">*</label></label>
                                        <div class="input-group date to_date col-sm-4" data-date="" data-date-format="dd-M-yyyy">
                                            @Html.TextBoxFor(C => C.AcDat, new { @id = "txtAcDat", @class = "form-control", @TabIndex = 2, @size = "32", style = "width: 200px", @readonly = true })
                                            <span class="input-group-addon"><span class="glyphicon glyphicon-remove"></span></span> <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <br />  <label for="inputName3" class="col-sm-4 control-label">From Time (HH:MM)<label class="mandatory">*</label></label>
                                        <div class="input-group date form_time col-md-4" data-date="" data-date-format="hh.ii" data-link-field="dtp_input3" data-link-format="hh.ii">
                                            @Html.TextBoxFor(C => C.FrTim, new { @id = "txtFrTim", @class = "form-control", style = "width: 100px; ", @readonly = true })
                                            <span class="input-group-addon"><span class="glyphicon glyphicon-remove"></span></span> <span class="input-group-addon"><span class="glyphicon glyphicon-time"></span></span>
                                        </div>
                                        <input type="hidden" id="dtp_input3" value="" />
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <br />  <label for="inputName3" class="col-sm-4 control-label">To Time (HH:MM)<label class="mandatory">*</label></label>
                                        <div class="input-group date form_time col-md-4" data-date="" data-date-format="hh.ii" data-link-field="dtp_input3" data-link-format="hh.ii">
                                            @Html.TextBoxFor(C => C.ToTim, new { @id = "txtToTim", @class = "form-control", style = "width: 100px; ", @readonly = true })
                                            <span class="input-group-addon"><span class="glyphicon glyphicon-remove"></span></span> <span class="input-group-addon"><span class="glyphicon glyphicon-time"></span></span>
                                        </div>
                                        <input type="hidden" id="dtp_input3" value="" />
                                    </div>
                                </div>                               
                            </div>

                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <br />  <label for="inputName3" class="col-sm-4 control-label">From<label class="mandatory">*</label></label>
                                        <div class="input-group date to_date col-sm-4" data-date="" data-date-format="dd-M-yyyy">
                                            @Html.TextBoxFor(C => C.FrDat, new { @id = "txtFrDat", @class = "form-control", @TabIndex = 2, @size = "32", style = "width: 200px", @readonly = true })
                                            <span class="input-group-addon"><span class="glyphicon glyphicon-remove"></span></span> <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <br />  <label for="inputName3" class="col-sm-4 control-label">From Time (HH:MM)<label class="mandatory">*</label></label>
                                        <div class="input-group date form_time col-md-4" data-date="" data-date-format="hh.ii" data-link-field="dtp_input3" data-link-format="hh.ii">
                                            @Html.TextBoxFor(C => C.FrTimTy, new { @id = "txtFrTimTy", @class = "form-control", style = "width: 100px; ", @readonly = true })
                                            <span class="input-group-addon"><span class="glyphicon glyphicon-remove"></span></span> <span class="input-group-addon"><span class="glyphicon glyphicon-time"></span></span>
                                        </div>
                                        <input type="hidden" id="dtp_input3" value="" />
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <br /><label for="inputName3" class="col-sm-4 control-label">Carried (Hrs.)<label class="mandatory">*</label></label>
                                        <div class="col-sm-8">
                                            @Html.TextBoxFor(C => C.CaHrs, new { @id = "txtCaHrs", @class = "form-control", @TabIndex = 2, onkeydown = "return isNumeric2(event.keyCode,this.value)" })
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <br />  <label for="inputName3" class="col-sm-4 control-label">To <label class="mandatory">*</label></label>
                                        <div class="input-group date to_date col-sm-4" data-date="" data-date-format="dd-M-yyyy">
                                            @Html.TextBoxFor(C => C.ToDat, new { @id = "txtToDat", @class = "form-control", @TabIndex = 2, @size = "32", style = "width: 200px", @readonly = true })
                                            <span class="input-group-addon"><span class="glyphicon glyphicon-remove"></span></span> <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <br /> <label for="inputName3" class="col-sm-4 control-label">To Time (HH:MM)<label class="mandatory">*</label></label>
                                        <div class="input-group date form_time col-md-4" data-date="" data-date-format="hh.ii" data-link-field="dtp_input3" data-link-format="hh.ii">
                                            @Html.TextBoxFor(C => C.ToTimTy, new { @id = "txtToTimTy", @class = "form-control", style = "width: 100px; ", @readonly = true })
                                            <span class="input-group-addon"><span class="glyphicon glyphicon-remove"></span></span> <span class="input-group-addon"><span class="glyphicon glyphicon-time"></span></span>
                                        </div>
                                        <input type="hidden" id="dtp_input3" value="" />
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <br /><label for="inputName3" class="col-sm-4 control-label">Preor Ber<label class="mandatory">*</label></label>
                                        <div class="col-sm-8">
                                            @Html.DropDownListFor(C => C.PB, Model.PBlst, " -- Please Select -- ", new { @id = "ddlPB", @Class = "form-control _select", @TabIndex = 1 })
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <br /><label for="inputName3" class="col-sm-4 control-label">Machine / Tool Code<label class="mandatory">*</label></label>
                                        <div class="col-sm-8">
                                            @Html.DropDownListFor(C => C.MtId, Model.McTolst, " -- Please Select -- ", new { @id = "ddlMtId", @Class = "form-control _select", @TabIndex = 1 })
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <br /><label for="inputName3" class="col-sm-4 control-label">Dept. Type<label class="mandatory">*</label></label>
                                        <div class="col-sm-8">
                                            @Html.DropDownListFor(C => C.DeTyp, Model.DepTyplst, " -- Please Select -- ", new { @id = "ddlDeTyp", @Class = "form-control _select", @TabIndex = 1 })
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <br /><label for="inputName3" class="col-sm-4 control-label">Maint. Type<label class="mandatory">*</label></label>
                                        <div class="col-sm-8">
                                            @Html.DropDownListFor(C => C.MaTyp, Model.MaiTyplst, " -- Please Select -- ", new { @id = "ddlMaTyp", @Class = "form-control _select", @TabIndex = 1 })
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <br /><label for="inputName3" class="col-sm-4 control-label">Prev./B.D <label class="mandatory">*</label></label>
                                        <div class="col-sm-8">
                                            @Html.DropDownListFor(C => C.PrePB, Model.PBlst, " -- Please Select -- ", new { @id = "ddlPrePB", @Class = "form-control _select", @TabIndex = 1 })
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <br /><label for="inputName3" class="col-sm-4 control-label">So Far Run (Hrs)<label class="mandatory">*</label></label>
                                        <div class="col-sm-8">
                                            @Html.TextBoxFor(C => C.SfHr, new { @id = "txtSfHr", @class = "form-control", @TabIndex = 2 })
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <br /><label for="inputName3" class="col-sm-4 control-label">Make Run Hr Zero (Y/N)<label class="mandatory">*</label></label>
                                        <div class="col-sm-8">
                                            @Html.DropDownListFor(C => C.MhYN, Model.MYNlst, " -- Please Select -- ", new { @id = "ddlMhYN", @Class = "form-control _select", @TabIndex = 1 })
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <div style="height:30px;"></div>


                            <div id="divitem" style="display:none;">
                                <div style="height:30px;"></div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="btn-group">
                                            <p style="float:right;">
                                                <input type="button" value="Add Row" onclick="AddRow()" class="btn sbold green" />
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div style="height:30px;"></div>

                            <!--new table-->
                            <div class="row">
                                <div class="col-md-12">

                                    <div class="tabs-container">
                                        <ul class="nav nav-tabs">
                                            <li class="active"><a href="#tab-1" data-toggle="tab">Activity Details</a></li>
                                            <li><a href="#tab-2" data-toggle="tab">Consumables</a></li>
                                            <li><a href="#tab-3" data-toggle="tab">Employee Details</a></li>
                                            <li><a href="#tab-4" data-toggle="tab">Service Details</a></li>
                                            <li><a href="#tab-5" data-toggle="tab">Check List</a></li>

                                        </ul>
                                        <div class="tab-content">
                                            <div class="tab-pane active" id="tab-1">
                                                <!-- 1st tab  -->
                                                

                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <br /><label for="inputName3" class="col-sm-4 control-label">Planning Activity <label class="mandatory">*</label></label>
                                                            <div class="col-sm-8">
                                                                @Html.TextAreaFor(C => C.Plac, new { @id = "txtPlac", @class = "form-control", @TabIndex = 2, @readonly = true })
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <br /><label for="inputName3" class="col-sm-4 control-label">Activity Done<label class="mandatory">*</label></label>
                                                            <div class="col-sm-8">
                                                                @Html.TextAreaFor(C => C.Acdo, new { @id = "txtAcdo", @class = "form-control", @TabIndex = 2 })
                                                            </div>
                                                        </div>
                                                    </div>
                                                    </div>
                                            </div>

                                            <!-- 1st tab end  -->
                                             <div class="tab-pane" id="tab-2">
                                                <!-- 2nd tab  -->
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <div class="btn-group">
                                                            <p style="float:right;"> <input type="button" value="Add Row" onclick="AddRow1()" class="btn sbold green" /></p>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="col-md-12" style="overflow-x:scroll; min-width:300px; min-height:300px;">
                                                            <table class="table table-striped table-hover" id="dataTable1">
                                                                <thead>
                                                                    <tr>

                                                                        <th>Item ID</th>
                                                                        <th>Unit</th>
                                                                        <th>Captive Consumption (Y/N)</th>
                                                                        <th>Current Stock</th>
                                                                        <th>Qty</th>
                                                                        <th>Rate</th>
                                                                        <th>Amount</th>


                                                                    </tr>
                                                                </thead>
                                                                <tbody id="tbBooks1">
                                                                    @{

                                                                        int a = 0;
                                                                        int b = 1;

                                                                        foreach (var item in Model.ConLst.ToList())
                                                                        {
                                                                                <tr id="trBook1@(a)" class="chkitemlst1" style="height: 30px;border-bottom: 1px dashed #ddd;">

                                                                                    <td>
                                                                                        @Html.DropDownListFor(o => o.ConLst[a].Itm, Model.ConLst[a].Itemlst, "Please Select", new { @class = "form-control _select newcss", @id = "txtItm" + a, style = "width: 200px;", @onchange = "changeItem1(this.value," + a + ")" })

                                                                                    </td>

                                                                                    <td>
                                                                                        @Html.TextBoxFor(o => o.ConLst[a].Unit, new { @id = "txtUnit" + a, @class = "form-control", style = "width: 200px;", @readonly = true })

                                                                                    </td>
                                                                                    <td>
                                                                                    <div class="input-group">
                                                                                        @Html.RadioButtonFor(C => C.ConLst[a].Active, "Y", new { @TabIndex = 2 })
                                                                                        <label id="mt-radio">Yes</label>&emsp;
                                                                                        @Html.RadioButtonFor(C => C.ConLst[a].Active, "N", new { @TabIndex = 3 })
                                                                                        <label id="mt-radio">No</label>
                                                                                    </div>
                                                                                    </td>
                                                                                    <td>
                                                                                        @Html.TextBoxFor(o => o.ConLst[a].Curst, new { @id = "txtCurst" + a, @class = "form-control", style = "width: 200px;" })

                                                                                    </td>
                                                                                    <td>
                                                                                    @Html.TextBoxFor(o => o.ConLst[a].Qty, new { @id = "txtQty" + a, @class = "form-control", style = "width: 200px;", onkeydown = "return isNumeric2(event.keyCode,this.value)" ,@onkeyup = "changeQty(this," + a + ")" })

                                                                                    </td>
                                                                                    <td>
                                                                                    @Html.TextBoxFor(o => o.ConLst[a].Rate, new { @id = "txtRate" + a, @class = "form-control", style = "width: 200px;", onkeydown = "return isNumeric2(event.keyCode,this.value)", @onkeyup = "changeQty(this," + a + ")" })

                                                                                    </td>
                                                                                    <td>
                                                                                        @Html.TextBoxFor(o => o.ConLst[a].Amo, new { @id = "txtAmo" + a, @class = "form-control", style = "width: 200px;", onkeydown = "return isNumeric2(event.keyCode,this.value)", @readonly = true })

                                                                                    </td>
                                                                                    <td>
                                                                                        @Html.HiddenFor(o => o.ConLst[a].Isvalid1, new { @id = "Isvalid1" + a })
                                                                                        <img onclick="removeRow1(@(a));" src="../Images/delete.png" style="cursor:pointer" /> <input name="ConLst.Index" type="hidden" value="@(a)" />
                                                                                    </td>
                                                                                </tr>
                                                                            a = a + 1;
                                                                            b = b + 1;

                                                                        }
                                                                    }

                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div> 

                                            <!-- 2nd tab  -->

                                            <!-- 3rd tab  -->
                                            <div class="tab-pane" id="tab-3">
                                                <!-- 3rd tab  -->
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <div class="btn-group">
                                                            <p style="float:right;"> <input type="button" value="Add Row" onclick="AddRow2()" class="btn sbold green" /></p>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="col-md-12" style="overflow-x:scroll; min-width:300px; min-height:300px;">
                                                            <table class="table table-striped table-hover" id="dataTable2">
                                                                <thead>
                                                                    <tr>

                                                                        <th>Emp ID</th>
                                                                        <th>Employee Name</th>
                                                                        <th>Department</th>
                                                                        <th>Norm.Hrs</th>
                                                                        <th>OT.Hours</th>
                                                                        <th>Worked.Hrs</th>
                                                                        <th>Employee Cost</th>


                                                                    </tr>
                                                                </thead>
                                                                <tbody id="tbBooks2">
                                                                    @{

                                                                        int c = 0;
                                                                        int d = 1;

                                                                        foreach (var item in Model.EmpLst.ToList())
                                                                        {
                                                                                <tr id="trBook2@(c)" class="chkitemlst2" style="height: 30px;border-bottom: 1px dashed #ddd;">

                                                                                    <td>
                                                                                        @Html.DropDownListFor(o => o.EmpLst[c].EmplId, Model.EmpLst[c].EmplIdlst, "Please Select", new { @class = "form-control _select newcss", @id = "txtlEmplId" + c, style = "width: 200px;", @onchange = "changeItem2(this.value," + c + ")" })

                                                                                    </td>

                                                                                    <td>
                                                                                        @Html.TextBoxFor(o => o.EmpLst[c].EmpName, new { @id = "txtEmpName" + c, @class = "form-control", style = "width: 200px;", @readonly = true })

                                                                                    </td>
                                                                                    <td>
                                                                                        @Html.TextBoxFor(o => o.EmpLst[c].Edes, new { @id = "txtEdes" + c, @class = "form-control", style = "width: 200px;", @readonly = true })

                                                                                    </td>
                                                                                    <td>
                                                                                        @Html.TextBoxFor(o => o.EmpLst[c].Nhr, new { @id = "txtNhr" + c, @class = "form-control", style = "width: 200px;", onkeydown = "return isNumeric2(event.keyCode,this.value)", @maxlength = "2" })

                                                                                    </td>
                                                                                    <td>
                                                                                        @Html.TextBoxFor(o => o.EmpLst[c].Ohr, new { @id = "txtOhr" + c, @class = "form-control", style = "width: 200px;", onkeydown = "return isNumeric2(event.keyCode,this.value)", @maxlength = "2" })

                                                                                    </td>
                                                                                    <td>
                                                                                        @Html.TextBoxFor(o => o.EmpLst[c].Whr, new { @id = "txtWhr" + c, @class = "form-control", style = "width: 200px;", onkeydown = "return isNumeric2(event.keyCode,this.value)", @maxlength = "2" })

                                                                                    </td>
                                                                                    <td>
                                                                                        @Html.TextBoxFor(o => o.EmpLst[c].Ecost, new { @id = "txtEcost" + c, @class = "form-control", style = "width: 200px;", onkeydown = "return isNumeric2(event.keyCode,this.value)" })

                                                                                    </td>
                                                                                    <td>
                                                                                        @Html.HiddenFor(o => o.EmpLst[c].Isvalid2, new { @id = "Isvalid2" + c })
                                                                                        <img onclick="removeRow2(@(c));" src="../Images/delete.png" style="cursor:pointer" /> <input name="EmpLst.Index" type="hidden" value="@(c)" />
                                                                                    </td>
                                                                                </tr>
                                                                            c = c + 1;
                                                                            d = d + 1;

                                                                        }
                                                                    }

                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- 3rd tab end  -->

                                            <!-- 4th tab  -->
                                            <div class="tab-pane" id="tab-4">
                                                <!-- 4th tab  -->
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <div class="btn-group">
                                                            <p style="float:right;"> <input type="button" value="Add Row" onclick="AddRow3()" class="btn sbold green" /></p>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="col-md-12" style="overflow-x:scroll; min-width:300px; min-height:300px;">
                                                            <table class="table table-striped table-hover" id="dataTable3">
                                                                <thead>
                                                                    <tr>

                                                                        <th>Party ID</th>
                                                                        <th>Service Desc.</th>
                                                                        <th>Qty</th>
                                                                        <th>Rate</th>
                                                                        <th>Amount</th>


                                                                    </tr>
                                                                </thead>
                                                                <tbody id="tbBooks3">
                                                                    @{

                                                                        int e = 0;
                                                                        int f = 1;

                                                                        foreach (var item in Model.SerLst.ToList())
                                                                        {
                                                                                <tr id="trBook3@(a)" class="chkitemlst3" style="height: 30px;border-bottom: 1px dashed #ddd;">

                                                                                    <td>
                                                                                        @Html.DropDownListFor(o => o.SerLst[e].Pid, Model.SerLst[e].Paridlst, "Please Select", new { @class = "form-control _select newcss", @id = "txtPid" + e, style = "width: 200px;" })

                                                                                    </td>

                                                                                    <td>
                                                                                        @Html.TextBoxFor(o => o.SerLst[e].Sedec, new { @id = "txtSedec" + e, @class = "form-control", style = "width: 200px;" })

                                                                                    </td>
                                                                                    <td>
                                                                                    @Html.TextBoxFor(o => o.SerLst[e].SQty, new { @id = "txtSQty" + e, @class = "form-control", style = "width: 200px;", onkeydown = "return isNumeric2(event.keyCode,this.value)", @onkeyup = "changeQtyS(this," + e + ")" })

                                                                                    </td>
                                                                                    <td>
                                                                                    @Html.TextBoxFor(o => o.SerLst[e].SRate, new { @id = "txtSRate" + e, @class = "form-control", style = "width: 200px;", onkeydown = "return isNumeric2(event.keyCode,this.value)", @onkeyup = "changeQtyS(this," + e + ")" })

                                                                                    </td>
                                                                                    <td>
                                                                                        @Html.TextBoxFor(o => o.SerLst[e].SAmo, new { @id = "txtSAmo" + e, @class = "form-control", style = "width: 200px;", onkeydown = "return isNumeric2(event.keyCode,this.value)", @readonly = true })

                                                                                    </td>
                                                                                    <td>
                                                                                        @Html.HiddenFor(o => o.SerLst[e].Isvalid3, new { @id = "Isvalid3" + e })
                                                                                        <img onclick="removeRow3(@(e));" src="../Images/delete.png" style="cursor:pointer" /> <input name="SerLst.Index" type="hidden" value="@(e)" />
                                                                                    </td>
                                                                                </tr>
                                                                            e = e + 1;
                                                                            f = f + 1;

                                                                        }
                                                                    }

                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- 4th tab end  -->

                                            <!-- 5th tab   -->
                                            <div class="tab-pane" id="tab-5">
                                                <!-- 5th tab  -->
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <div class="btn-group">
                                                            <p style="float:right;"> <input type="button" value="Add Row" onclick="AddRow4()" class="btn sbold green" /></p>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="col-md-12" style="overflow-x:scroll; min-width:300px; min-height:300px;">
                                                            <table class="table table-striped table-hover" id="dataTable4">
                                                                <thead>
                                                                    <tr>

                                                                        <th>Service</th>
                                                                       
                                                                    </tr>
                                                                </thead>
                                                                <tbody id="tbBooks4">
                                                                    @{

                                                                        int g = 0;
                                                                        int h = 1;

                                                                        foreach (var item in Model.ChkLst.ToList())
                                                                        {
                                                                                <tr id="trBook4@(g)" class="chkitemlst4" style="height: 30px;border-bottom: 1px dashed #ddd;">

                                                                                   
                                                                                    <td>
                                                                                        @Html.TextBoxFor(o => o.ChkLst[g].Ser, new { @id = "txtSer" + g, @class = "form-control", style = "width: 200px;" })

                                                                                    </td>
                                                                                    <td>
                                                                                        @Html.HiddenFor(o => o.ChkLst[g].Isvalid4, new { @id = "Isvalid4" + g })
                                                                                        <img onclick="removeRow4(@(g));" src="../Images/delete.png" style="cursor:pointer" /> <input name="ChkLst.Index" type="hidden" value="@(g)" />
                                                                                    </td>
                                                                                </tr>
                                                                            g = g + 1;
                                                                            h = h + 1;

                                                                        }
                                                                    }

                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- 5th tab end  -->

                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--new table  end-->


                            <!--Bottom table  -->

                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <br /><label for="inputName3" class="col-sm-4 control-label">Consumables Amount<label class="mandatory"></label></label>
                                        <div class="col-sm-8">
                                            @Html.TextBoxFor(C => C.Conam, new { @id = "txtConam", @class = "form-control", @TabIndex = 2, @readonly = true })
                                            <br />
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <br /><label for="inputName3" class="col-sm-4 control-label">Others<label class="mandatory"></label></label>
                                        <div class="col-sm-8">
                                            @Html.TextBoxFor(C => C.Oth, new { @id = "txtOth", @class = "form-control", @TabIndex = 2, onkeydown = "return isNumeric2(event.keyCode,this.value)", @onkeyup = "changeQtyT(this.value)" })
                                            <br />
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <br /><label for="inputName3" class="col-sm-4 control-label">Total Amount<label class="mandatory"></label></label>
                                        <div class="col-sm-8">
                                            @Html.TextBoxFor(C => C.Tamo, new { @id = "txtTamo", @class = "form-control", @TabIndex = 2, @readonly = true })
                                            <br />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <br /><label for="inputName3" class="col-sm-4 control-label">Employee Cost<label class="mandatory"></label></label>
                                        <div class="col-sm-8">
                                            @Html.TextBoxFor(C => C.Emcos, new { @id = "txtEmcos", @class = "form-control", @TabIndex = 2, @readonly = true })
                                            <br />
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <br /><label for="inputName3" class="col-sm-4 control-label">Remarks<label class="mandatory"></label></label>
                                        <div class="col-sm-8">
                                            @Html.TextBoxFor(C => C.Rem, new { @id = "txtRem", @class = "form-control", @TabIndex = 2 })
                                            <br />
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <br /><label for="inputName3" class="col-sm-4 control-label">Captive Amount<label class="mandatory"></label></label>
                                        <div class="col-sm-8">
                                            @Html.TextBoxFor(C => C.Camo, new { @id = "txtCamo", @class = "form-control", @TabIndex = 2, @readonly = true })
                                            <br />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <br /><label for="inputName3" class="col-sm-4 control-label">Service Amount<label class="mandatory"></label></label>
                                        <div class="col-sm-8">
                                            @Html.TextBoxFor(C => C.Samo, new { @id = "txtSam", @class = "form-control", @TabIndex = 2, onkeydown = "return isNumeric2(event.keyCode,this.value)", @onkeyup = "changeQtyT(this.value)" })
                                            <br />
                                        </div>
                                    </div>
                                </div>
                            </div>



                            <div class="col-lg-10"></div>
                            <button type="submit" name="submit" class="btn aqua m-t-xs bottom15-xs" id="btnSave" value="Save" tabindex="18">Save</button>
                            <a button class="btn btn-danger" type="submit" href="@Url.Action("ListActivitiesCO", "ActivitiesCO")">Cancel</a>

                        </form>
                    }

                </div>

            </div>

        </div>

    </div>
</div>


<script>

    function changeItem(ItemId) {

        $.ajax({
            url: 'GetActDetails',
            data: { "ItemId": ItemId },
            type: "GET",
            success: function (result) {

                document.getElementById("txtAcDat").value = result.adat;
                document.getElementById("txtFrTim").value = result.frti;
                document.getElementById("txtToTim").value = result.toti;
                document.getElementById("txtPlac").value = result.des;

            },
            error: function () {
                alert("Data Not Found");
            }
        });
    }

    function changeItem1(ItemId,a) {

        $.ajax({
            url: 'GetItemUnit',
            data: { "ItemId": ItemId },
            type: "GET",
            success: function (result) {

                document.getElementById("txtUnit"+ a).value = result.unit;
      
            },
            error: function () {
                alert("Data Not Found");
            }
        });
    }

    function changeItem2(ItemId,c) {

        $.ajax({
            url: 'GetEMPDetails',
            data: { "ItemId": ItemId },
            type: "GET",
            success: function (result) {

                document.getElementById("txtEmpName"+c).value = result.name;
                document.getElementById("txtEdes"+c).value = result.dep;

            },
            error: function () {
                alert("Data Not Found");
            }
        });
    }
</script>

<script>

    $(function () {
        $('._select').select2();
    });


    function PopulateDropDown(dropDownId, list) {
        //alert(list);
        $(dropDownId).empty().append('<option selected="selected" value="0">Please select</option>');
        if (list != null && list.length > 0) {
            $(dropDownId).removeAttr("disabled");
            $.each(list, function () {
                $(dropDownId).append($("<option></option>").val(this['value']).html(this['text']));
            });
        }
        $(dropDownId).trigger("liszt:updated");
    }
    $(".chosen-select").chosen();

    $('.form_time').datetimepicker({
        weekStart: 1,
        todayBtn: 1,
        autoclose: 1,
        todayHighlight: 1,
        startView: 1,
        minView: 0,
        maxView: 1,
        forceParse: 0
    });


    $('.to_date').datetimepicker({
        //   language:  'fr',
        weekStart: 1,
        todayBtn: 1,
        autoclose: 1,
        todayHighlight: 1,
        startView: 2,
        minView: 2,
        endDate: new Date(),
        forceParse: 0

    });


    function AddRow1() {
        var opt = "";
        $.ajax({
            type: "POST",
            url: 'GetItemJSON1',
            success: function (data) {

                $.each(data, function () {
                    opt += "<option value=" + this.value + ">" + this.text + "</option>";
                });
                AppendRow1(opt);
            }
        })
    }
    function AppendRow1(opt) {
        var index = $("#tbBooks1").children("tr").length;

        var itm = "<td><select style = 'width: 200px;' class='form-control _select newcss' id='txtItm" + index + "' name='ConLst[" + index + "].Itm' onchange = 'changeItem1(this.value, " + index + ")'><option value=''> Please Select </option>" + opt + "</select></td>";
        var uni = "<td><input class='form-control' id='txtUnit" + index + "' name='ConLst[" + index + "].Unit'  style='width: 200px;' type='text' readonly='readonly' /></td>";
        var Act = "<td><div class='input-group'><input id='Active" + index + "' name='ConLst[" + index + "].Active' type='radio' value='Y'/><label id='mt-radio'>Yes</label>&emsp;<input id='Active' '" + index + "' name='ConLst[" + index + "].Active' type='radio' value='N'/><label id='mt-radio'>No</label><div></td>";
        var cs = "<td><input class='form-control' id='txtCurst" + index + "' name='ConLst[" + index + "].Curst'  style='width: 200px;' type='text'  /></td>";
        var qt = "<td><input class='form-control' id='txtQty" + index + "' name='ConLst[" + index + "].Qty'  style='width: 200px;' type='text' onkeydown = 'return isNumeric2(event.keyCode, this.value)' onkeyup = 'changeQty(this, " + index + ")' /></td>";
        var ra = "<td><input class='form-control' id='txtRate" + index + "' name='ConLst[" + index + "].Rate'  style='width: 200px;' type='text' onkeydown = 'return isNumeric2(event.keyCode, this.value)' onkeyup = 'changeQty(this, " + index + ")' /></td>";
        var am = "<td><input class='form-control' id='txtAmo" + index + "' name='ConLst[" + index + "].Amo'  style='width: 200px;' type='text' onkeydown = 'return isNumeric2(event.keyCode, this.value)' readonly='readonly'/></td>";

        var removeCell = "<td><input id='Isvalid1" + index + "' name='ConLst[" + index + "].Isvalid1' type='hidden' value='Y'><img  src='../Images/delete.png' onclick='removeRow1(" + index + ");'  style='cursor:pointer' /><input name='ConLst.Index' type='hidden' value='" + index + "'  /></td>";

        var newRow = "<tr class='chkitemlst1'  style='height: 30px;border-bottom: 1px dashed #ddd;'  id='trBook1" + index + "'>" + itm + uni + Act + cs + qt + ra + am + removeCell + "</tr>";
        //alert(Packing);
        $("#tbBooks1").append(newRow);

        $(".chosen-select").chosen();
        $(function () {
            $('._select').select2();
        });
    }

    function removeRow1(id) {
        var table = document.getElementById("dataTable1");
        var rowCount = table.rows.length;
        var row = document.getElementById('trBook1' + id);
        var j = 0;
        $('tr.chkitemlst1').each(function () {
            if ($(this).css('display') !== 'none') {
                j += 1;
            }
        });
        if (j > 1) {
            row.style.display = "none";
            document.getElementById('Isvalid1' + id).value = "N";
        }
        else {
            alert("Cannot delete all the rows.")
        }
    }
    
@* add row 2*@

        function AddRow2() {
            var opt = "";
            $.ajax({
                type: "POST",
                url: 'GetItemJSON2',
                success: function (data) {

                    $.each(data, function () {
                        opt += "<option value=" + this.value + ">" + this.text + "</option>";
                    });
                    AppendRow2(opt);
                }
            })
        }
    function AppendRow2(opt) {
        var index = $("#tbBooks2").children("tr").length;

        var ei = "<td><select style = 'width: 200px;' class='form-control _select newcss' id='txtlEmplId" + index + "' name='EmpLst[" + index + "].EmplId' onchange = 'changeItem2(this.value, " + index + ")'><option value=''> Please Select </option>" + opt + "</select></td>";
        var enam = "<td><input class='form-control' id='txtEmpName" + index + "' name='EmpLst[" + index + "].EmpName'  style='width: 200px;' type='text' readonly='readonly' /></td>";
        var edep = "<td><input class='form-control' id='txtEdes" + index + "' name='EmpLst[" + index + "].Edes'  style='width: 200px;' type='text' readonly='readonly' /></td>";
        var nh = "<td><input class='form-control' id='txtNhr" + index + "' name='EmpLst[" + index + "].Nhr'  style='width: 200px;' type='text' onkeydown = 'return isNumeric2(event.keyCode, this.value)' maxlength = '2'  /></td>";
        var oh = "<td><input class='form-control' id='txtOhr" + index + "' name='EmpLst[" + index + "].Ohr'  style='width: 200px;' type='text' onkeydown = 'return isNumeric2(event.keyCode, this.value)' maxlength = '2' /></td>";
        var wh = "<td><input class='form-control' id='txtWhr" + index + "' name='EmpLst[" + index + "].Whr'  style='width: 200px;' type='text' onkeydown = 'return isNumeric2(event.keyCode, this.value)' maxlength = '2' /></td>";
        var ec = "<td><input class='form-control' id='txtEcost" + index + "' name='EmpLst[" + index + "].Ecost'  style='width: 200px;' type='text' onkeydown = 'return isNumeric2(event.keyCode, this.value)'  /></td>";



        var removeCell = "<td><input id='Isvalid2" + index + "' name='EmpLst[" + index + "].Isvalid2' type='hidden' value='Y'><img  src='../Images/delete.png' onclick='removeRow2(" + index + ");'  style='cursor:pointer' /><input name='EmpLst.Index' type='hidden' value='" + index + "'  /></td>";

        var newRow = "<tr class='chkitemlst2'  style='height: 30px;border-bottom: 1px dashed #ddd;'  id='trBook2" + index + "'>" + ei + enam + edep + nh + oh + wh + ec + removeCell + "</tr>";
        //alert(Packing);
        $("#tbBooks2").append(newRow);

        $(".chosen-select").chosen();
        $(function () {
            $('._select').select2();
        });
    }
    function removeRow2(id) {
        var table = document.getElementById("dataTable2");
        var rowCount = table.rows.length;
        var row = document.getElementById('trBook2' + id);
        var j = 0;
        $('tr.chkitemlst2').each(function () {
            if ($(this).css('display') !== 'none') {
                j += 1;
            }
        });
        if (j > 1) {
            row.style.display = "none";
            document.getElementById('Isvalid2' + id).value = "N";
        }
        else {
            alert("Cannot delete all the rows.")
        }
    }

    @* add row 3*@

        function AddRow3() {
            var opt = "";
            $.ajax({
                type: "POST",
                url: 'GetItemJSON3',
                success: function (data) {

                    $.each(data, function () {
                        opt += "<option value=" + this.value + ">" + this.text + "</option>";
                    });
                    AppendRow3(opt);
                }
            })
        }
    function AppendRow3(opt) {
        var index = $("#tbBooks3").children("tr").length;

        var pi = "<td><select style = 'width: 200px;' class='form-control _select newcss' id='txtPid" + index + "' name='SerLst[" + index + "].Pid'><option value=''> Please Select </option>" + opt + "</select></td>";
        var sd = "<td><input class='form-control' id='txtSedec" + index + "' name='SerLst[" + index + "].Sedec'  style='width: 200px;' type='text'  /></td>";
        var qt = "<td><input class='form-control' id='txtSQty" + index + "' name='SerLst[" + index + "].SQty'  style='width: 200px;' type='text' onkeydown = 'return isNumeric2(event.keyCode, this.value)' onkeyup = 'changeQtyS(this, " + index + ")' /></td>";
        var ra = "<td><input class='form-control' id='txtSRate" + index + "' name='SerLst[" + index + "].SRate'  style='width: 200px;' type='text' onkeydown = 'return isNumeric2(event.keyCode, this.value)' onkeyup = 'changeQtyS(this, " + index + ")'  /></td>";
        var mo = "<td><input class='form-control' id='txtSAmo" + index + "' name='SerLst[" + index + "].SAmo'  style='width: 200px;' type='text' onkeydown = 'return isNumeric2(event.keyCode, this.value)' readonly='readonly'  /></td>";

        var removeCell = "<td><input id='Isvalid3" + index + "' name='SerLst[" + index + "].Isvalid3' type='hidden' value='Y'><img  src='../Images/delete.png' onclick='removeRow3(" + index + ");'  style='cursor:pointer' /><input name='SerLst.Index' type='hidden' value='" + index + "'  /></td>";

        var newRow = "<tr class='chkitemlst3'  style='height: 30px;border-bottom: 1px dashed #ddd;'  id='trBook3" + index + "'>" + pi + sd + qt + ra + mo + removeCell + "</tr>";
        //alert(Packing);
        $("#tbBooks3").append(newRow);

        $(".chosen-select").chosen();
        $(function () {
            $('._select').select2();
        });
    }
    function removeRow3(id) {
        var table = document.getElementById("dataTable3");
        var rowCount = table.rows.length;
        var row = document.getElementById('trBook3' + id);
        var j = 0;
        $('tr.chkitemlst3').each(function () {
            if ($(this).css('display') !== 'none') {
                j += 1;
            }
        });
        if (j > 1) {
            row.style.display = "none";
            document.getElementById('Isvalid3' + id).value = "N";
        }
        else {
            alert("Cannot delete all the rows.")
        }
    }

    @* add row 4*@

        function AddRow4() {
            var opt = "";
            $.ajax({
                type: "POST",
                url: 'GetItemJSON4',
                success: function (data) {

                    $.each(data, function () {
                        opt += "<option value=" + this.value + ">" + this.text + "</option>";
                    });
                    AppendRow4(opt);
                }
            })
        }
    function AppendRow4(opt) {
        var index = $("#tbBooks4").children("tr").length;

        var ch = "<td><input class='form-control' id='txtSer" + index + "' name='ChkLst[" + index + "].Ser'  style='width: 200px;' type='text'  /></td>";
      
        var removeCell = "<td><input id='Isvalid4" + index + "' name='ChkLst[" + index + "].Isvalid4' type='hidden' value='Y'><img  src='../Images/delete.png' onclick='removeRow4(" + index + ");'  style='cursor:pointer' /><input name='ChkLst.Index' type='hidden' value='" + index + "'  /></td>";

        var newRow = "<tr class='chkitemlst4'  style='height: 30px;border-bottom: 1px dashed #ddd;'  id='trBook4" + index + "'>" + ch  + removeCell + "</tr>";
        //alert(Packing);
        $("#tbBooks4").append(newRow);

        $(".chosen-select").chosen();
        $(function () {
            $('._select').select2();
        });
    }
    function removeRow4(id) {
        var table = document.getElementById("dataTable4");
        var rowCount = table.rows.length;
        var row = document.getElementById('trBook4' + id);
        var j = 0;
        $('tr.chkitemlst4').each(function () {
            if ($(this).css('display') !== 'none') {
                j += 1;
            }
        });
        if (j > 1) {
            row.style.display = "none";
            document.getElementById('Isvalid4' + id).value = "N";
        }
        else {
            alert("Cannot delete all the rows.")
        }
    }
</script>


<script>
    $(function () {
        $('._select').select2();
    });
    $(".chosen-select").chosen();

</script>


<script>

    $(function () {
        $('._select').select2();

    });

    $(document).ready(function () {
        $('#btnSave').click(function (e) {
            var isValid = true;

           

          

            if (document.getElementById("txtBrc").value == "") {
                isValid = false;
                $(txtBrc).css({
                    "border": "1px solid red",
                    "background": "#FFCECE"
                });

                alert("Please Select Branch");
                return false;
            }
            else {
                $(txtBrc).css({
                    "border": "",
                    "background": ""
                });
            }

            if (document.getElementById("ddlLoc").value == "") {
                isValid = false;
                $(ddlLoc).css({
                    "border": "1px solid red",
                    "background": "#FFCECE"
                });

                alert("Please Select Location");
                return false;
            }
            else {
                $(ddlLoc).css({
                    "border": "",
                    "background": ""
                });
            }

            if (document.getElementById("ddlEnTy").value == "") {
                isValid = false;
                $(ddlEnTy).css({
                    "border": "1px solid red",
                    "background": "#FFCECE"
                });

                alert("Please Select  Entry Type");
                return false;
            }
            else {
                $(ddlEnTy).css({
                    "border": "",
                    "background": ""
                });
            }

            if (document.getElementById("txtDocDate").value == "") {
                isValid = false;
                $(txtDocDate).css({
                    "border": "1px solid red",
                    "background": "#FFCECE"
                });

                alert("Please Select  Date");
                return false;
            }
            else {
                $(txtDocDate).css({
                    "border": "",
                    "background": ""
                });
            }

            if (document.getElementById("ddlActId").value == "") {
                isValid = false;
                $(ddlActId).css({
                    "border": "1px solid red",
                    "background": "#FFCECE"
                });

                alert("Please Select Activity ID");
                return false;
            }
            else {
                $(ddlActId).css({
                    "border": "",
                    "background": ""
                });
            }
            if (document.getElementById("txtFrDat").value == "") {
                isValid = false;
                $(txtFrDat).css({
                    "border": "1px solid red",
                    "background": "#FFCECE"
                });

                alert("Please Select  From Date");
                return false;
            }
            else {
                $(txtFrDat).css({
                    "border": "",
                    "background": ""
                });
            }

            if (document.getElementById("txtFrTimTy").value == "") {
                isValid = false;
                $(txtFrTimTy).css({
                    "border": "1px solid red",
                    "background": "#FFCECE"
                });

                alert("Please Select From Time");
                return false;
            }
            else {
                $(txtFrTimTy).css({
                    "border": "",
                    "background": ""
                });
            }
            if (document.getElementById("txtCaHrs").value == "") {
                isValid = false;
                $(txtCaHrs).css({
                    "border": "1px solid red",
                    "background": "#FFCECE"
                });

                alert("Please Enter Carried (Hrs.)");
                return false;
            }
            else {
                $(txtCaHrs).css({
                    "border": "",
                    "background": ""
                });
            }
            if (document.getElementById("txtToDat").value == "") {
                isValid = false;
                $(txtToDat).css({
                    "border": "1px solid red",
                    "background": "#FFCECE"
                });

                alert("Please Select  To Date");
                return false;
            }
            else {
                $(txtToDat).css({
                    "border": "",
                    "background": ""
                });
            }

            if (document.getElementById("txtToTimTy").value == "") {
                isValid = false;
                $(txtToTimTy).css({
                    "border": "1px solid red",
                    "background": "#FFCECE"
                });

                alert("Please Select  To Time");
                return false;
            }
            else {
                $(txtToTimTy).css({
                    "border": "",
                    "background": ""
                });
            }
            if (document.getElementById("ddlPB").value == "") {
                isValid = false;
                $(ddlPB).css({
                    "border": "1px solid red",
                    "background": "#FFCECE"
                });

                alert("Please Select  P/B");
                return false;
            }
            else {
                $(ddlPB).css({
                    "border": "",
                    "background": ""
                });
            }

            if (document.getElementById("ddlMtId").value == "") {
                isValid = false;
                $(ddlMtId).css({
                    "border": "1px solid red",
                    "background": "#FFCECE"
                });

                alert("Please Select  Machine ID");
                return false;
            }
            else {
                $(ddlMtId).css({
                    "border": "",
                    "background": ""
                });
            }
            if (document.getElementById("ddlDeTyp").value == "") {
                isValid = false;
                $(ddlDeTyp).css({
                    "border": "1px solid red",
                    "background": "#FFCECE"
                });

                alert("Please Select  Department Type");
                return false;
            }
            else {
                $(ddlDeTyp).css({
                    "border": "",
                    "background": ""
                });
            }

            if (document.getElementById("ddlMaTyp").value == "") {
                isValid = false;
                $(ddlMaTyp).css({
                    "border": "1px solid red",
                    "background": "#FFCECE"
                });

                alert("Please Select  Maint. Type");
                return false;
            }
            else {
                $(ddlMaTyp).css({
                    "border": "",
                    "background": ""
                });
            }

            if (document.getElementById("ddlPrePB").value == "") {
                isValid = false;
                $(ddlPrePB).css({
                    "border": "1px solid red",
                    "background": "#FFCECE"
                });

                alert("Please Select Per BD");
                return false;
            }
            else {
                $(ddlPrePB).css({
                    "border": "",
                    "background": ""
                });
            }


            if (document.getElementById("txtSfHr").value == "") {
                isValid = false;
                $(txtSfHr).css({
                    "border": "1px solid red",
                    "background": "#FFCECE"
                });

                alert("Please Enter So For Run");
                return false;
            }
            else {
                $(txtSfHr).css({
                    "border": "",
                    "background": ""
                });
            }

           

            if (document.getElementById("ddlMhYN").value == "") {
                isValid = false;
                $(ddlMhYN).css({
                    "border": "1px solid red",
                    "background": "#FFCECE"
                });

                alert("Please Select  Make Run");
                return false;
            }
            else {
                $(ddlMhYN).css({
                    "border": "",
                    "background": ""
                });
            }

            if (document.getElementById("txtAcdo").value == "") {
                isValid = false;
                $(txtAcdo).css({
                    "border": "1px solid red",
                    "background": "#FFCECE"
                });

                alert("Please Enter Activity Done");
                return false;
            }
            else {
                $(txtAcdo).css({
                    "border": "",
                    "background": ""
                });
            }

            var i = 0;
            $('tr.chkitemlst1').each(function () {
                if ($(this).css('display') !== 'none') {


                    if ($(this).find('#txtItm' + i.toString()).val() == "" || $(this).find('#txtItm' + i.toString()).val() == 0) {
                        isValid = false;
                        $(this).find('#txtItm' + i.toString()).css({
                            "border": "1px solid red",
                            "background": "#FFCECE"
                        });
                        alert("Please Select Item");
                        $(this).find('#txtItm' + i.toString()).focus();
                        return false;
                    }
                    else {
                        $(this).find('#txtItm' + i.toString()).css({
                            "border": "",
                            "background": ""
                        });
                    }

                    if ($(this).find('#txtCurst' + i.toString()).val() == "" || $(this).find('#txtCurst' + i.toString()).val() == 0) {
                        isValid = false;
                        $(this).find('#txtCurst' + i.toString()).css({
                            "border": "1px solid red",
                            "background": "#FFCECE"
                        });
                        alert("Please Enter Current Stock");
                        $(this).find('#txtCurst' + i.toString()).focus();
                        return false;
                    }
                    else {
                        $(this).find('#txtCurst' + i.toString()).css({
                            "border": "",
                            "background": ""
                        });
                    }

                    if ($(this).find('#txtQty' + i.toString()).val() == "" || $(this).find('#txtQty' + i.toString()).val() == 0) {
                        isValid = false;
                        $(this).find('#txtQty' + i.toString()).css({
                            "border": "1px solid red",
                            "background": "#FFCECE"
                        });
                        alert("Please Enter Qty");
                        $(this).find('#txtQty' + i.toString()).focus();
                        return false;
                    }
                    else {
                        $(this).find('#txtQty' + i.toString()).css({
                            "border": "",
                            "background": ""
                        });
                    }

                    if ($(this).find('#txtRate' + i.toString()).val() == "" || $(this).find('#txtRate' + i.toString()).val() == 0) {
                        isValid = false;
                        $(this).find('#txtRate' + i.toString()).css({
                            "border": "1px solid red",
                            "background": "#FFCECE"
                        });
                        alert("Please Enter Rate");
                        $(this).find('#txtRate' + i.toString()).focus();
                        return false;
                    }
                    else {
                        $(this).find('#txtRate' + i.toString()).css({
                            "border": "",
                            "background": ""
                        });
                    }
                    if ($(this).find('#txtAmo' + i.toString()).val() == "" || $(this).find('#txtAmo' + i.toString()).val() == "0") {
                        isValid = false;
                        $(this).find('#txtAmo' + i.toString()).css({
                            "border": "1px solid red",
                            "background": "#FFCECE"
                        });

                        alert("Please Enter Amount");
                        $(this).find('#txtAmo' + i.toString()).focus();
                        return false;

                    }
                    else {
                        $(this).find('#txtAmo' + i.toString()).css({
                            "border": "",
                            "background": ""
                        });
                    }
                    
                }
                i += 1;
            });

            var r = 0;
            $('tr.chkitemlst2').each(function () {
                if ($(this).css('display') !== 'none') {


                    if ($(this).find('#txtlEmplId' + r.toString()).val() == "" || $(this).find('#txtlEmplId' + r.toString()).val() == 0) {
                        isValid = false;
                        $(this).find('#txtlEmplId' + r.toString()).css({
                            "border": "1px solid red",
                            "background": "#FFCECE"
                        });
                        alert("Please Select Empid");
                        $(this).find('#txtlEmplId' + r.toString()).focus();
                        return false;
                    }
                    else {
                        $(this).find('#txtlEmplId' + r.toString()).css({
                            "border": "",
                            "background": ""
                        });
                    }

                    if ($(this).find('#txtNhr' + r.toString()).val() == "" || $(this).find('#txtNhr' + r.toString()).val() == 0) {
                        isValid = false;
                        $(this).find('#txtNhr' + r.toString()).css({
                            "border": "1px solid red",
                            "background": "#FFCECE"
                        });
                        alert("Please Enter Norm Hrs");
                        $(this).find('#txtNhr' + r.toString()).focus();
                        return false;
                    }
                    else {
                        $(this).find('#txtNhr' + r.toString()).css({
                            "border": "",
                            "background": ""
                        });
                    }

                    if ($(this).find('#txtOhr' + r.toString()).val() == "" || $(this).find('#txtOhr' + r.toString()).val() == 0) {
                        isValid = false;
                        $(this).find('#txtOhr' + r.toString()).css({
                            "border": "1px solid red",
                            "background": "#FFCECE"
                        });
                        alert("Please Enter Ohr");
                        $(this).find('#txtOhr' + r.toString()).focus();
                        return false;
                    }
                    else {
                        $(this).find('#txtOhr' + r.toString()).css({
                            "border": "",
                            "background": ""
                        });
                    }

                    if ($(this).find('#txtWhr' + r.toString()).val() == "" || $(this).find('#txtWhr' + r.toString()).val() == 0) {
                        isValid = false;
                        $(this).find('#txtWhr' + r.toString()).css({
                            "border": "1px solid red",
                            "background": "#FFCECE"
                        });
                        alert("Please Enter Working Hr");
                        $(this).find('#txtWhr' + r.toString()).focus();
                        return false;
                    }
                    else {
                        $(this).find('#txtWhr' + r.toString()).css({
                            "border": "",
                            "background": ""
                        });
                    }
                    if ($(this).find('#txtEcost' + r.toString()).val() == "" || $(this).find('#txtEcost' + r.toString()).val() == "0") {
                        isValid = false;
                        $(this).find('#txtEcost' + r.toString()).css({
                            "border": "1px solid red",
                            "background": "#FFCECE"
                        });

                        alert("Please Enter Employee Cost");
                        $(this).find('#txtEcost' + r.toString()).focus();
                        return false;

                    }
                    else {
                        $(this).find('#txtEcost' + r.toString()).css({
                            "border": "",
                            "background": ""
                        });
                    }

                }
                r += 1;
            });

            var k = 0;
            $('tr.chkitemlst3').each(function () {
                if ($(this).css('display') !== 'none') {


                    if ($(this).find('#txtPid' + k.toString()).val() == "" || $(this).find('#txtPid' + k.toString()).val() == 0) {
                        isValid = false;
                        $(this).find('#txtPid' + k.toString()).css({
                            "border": "1px solid red",
                            "background": "#FFCECE"
                        });
                        alert("Please Select Party ID");
                        $(this).find('#txtPid' + k.toString()).focus();
                        return false;
                    }
                    else {
                        $(this).find('#txtPid' + k.toString()).css({
                            "border": "",
                            "background": ""
                        });
                    }

                    if ($(this).find('#txtSedec' + k.toString()).val() == "" || $(this).find('#txtSedec' + k.toString()).val() == 0) {
                        isValid = false;
                        $(this).find('#txtSedec' + k.toString()).css({
                            "border": "1px solid red",
                            "background": "#FFCECE"
                        });
                        alert("Please Enter Service Desc");
                        $(this).find('#txtSedec' + k.toString()).focus();
                        return false;
                    }
                    else {
                        $(this).find('#txtSedec' + k.toString()).css({
                            "border": "",
                            "background": ""
                        });
                    }

                    if ($(this).find('#txtSQty' + k.toString()).val() == "" || $(this).find('#txtSQty' + i.toString()).val() == 0) {
                        isValid = false;
                        $(this).find('#txtSQty' + k.toString()).css({
                            "border": "1px solid red",
                            "background": "#FFCECE"
                        });
                        alert("Please Enter Qty");
                        $(this).find('#txtSQty' + k.toString()).focus();
                        return false;
                    }
                    else {
                        $(this).find('#txtSQty' + k.toString()).css({
                            "border": "",
                            "background": ""
                        });
                    }

                    if ($(this).find('#txtSRate' + k.toString()).val() == "" || $(this).find('#txtSRate' + k.toString()).val() == 0) {
                        isValid = false;
                        $(this).find('#txtSRate' + k.toString()).css({
                            "border": "1px solid red",
                            "background": "#FFCECE"
                        });
                        alert("Please Enter Rate");
                        $(this).find('#txtSRate' + k.toString()).focus();
                        return false;
                    }
                    else {
                        $(this).find('#txtSRate' + k.toString()).css({
                            "border": "",
                            "background": ""
                        });
                    }
                    if ($(this).find('#txtSAmo' + k.toString()).val() == "" || $(this).find('#txtSAmo' + k.toString()).val() == "0") {
                        isValid = false;
                        $(this).find('#txtSAmo' + k.toString()).css({
                            "border": "1px solid red",
                            "background": "#FFCECE"
                        });

                        alert("Please Enter Amount");
                        $(this).find('#txtSAmo' + k.toString()).focus();
                        return false;

                    }
                    else {
                        $(this).find('#txtSAmo' + k.toString()).css({
                            "border": "",
                            "background": ""
                        });
                    }

                }
                k += 1;
            });
            if (isValid == false)
                e.preventDefault();
        });
    });


    function changeQty(_this, i) {
        try {
            var qty = document.getElementById("txtQty" + i).value;
            var up = document.getElementById("txtRate" + i).value;

            var totamt = 0;
            if (qty == "")
                qty = 0;

            if (up == "")
                up = 0;

            if (up > 0) {
                var tot = eval(qty) * eval(up) ;
                 document.getElementById("txtAmo" + i).value = tot.toFixed(2);

            } else {
                document.getElementById("txtAmo" + i).value = 0;
            }
            var GTot = 0;
            var j = 0;
            var totamt = 0;
            $('tr.chkitemlst1').each(function () {
                if ($(this).css('display') !== 'none') {

                    var tamt = $(this).find('#txtAmo' + j.toString()).val();
                    if (tamt == "")
                        tamt = 0;

                    totamt += eval(tamt);
                }
                j += 1;
            });


            document.getElementById("txtConam").value = totamt.toFixed(2);
        }
        catch (ex) {
            alert(ex.message);
        }
    }

    function changeQtyS(_this, i) {
        try {
            var qty = document.getElementById("txtSQty" + i).value;
            var up = document.getElementById("txtSRate" + i).value;

            var totamt = 0;
            if (qty == "")
                qty = 0;

            if (up == "")
                up = 0;

            if (up > 0) {
                var tot = eval(qty) * eval(up);
                document.getElementById("txtSAmo" + i).value = tot.toFixed(2);

            } else {
                document.getElementById("txtSAmo" + i).value = 0;
            }
            var GTot = 0;
            var j = 0;
            var totamt = 0;
            $('tr.chkitemlst3').each(function () {
                if ($(this).css('display') !== 'none') {

                    var tamt = $(this).find('#txtSAmo' + j.toString()).val();
                    if (tamt == "")
                        tamt = 0;

                    totamt += eval(tamt);
                }
                j += 1;
            });


            document.getElementById("txtSam").value = totamt.toFixed(2);
        }
        catch (ex) {
            alert(ex.message);
        }
    }


     function changeQtyT(_this) {
        try {
            var qty = document.getElementById("txtConam").value;
            var up = document.getElementById("txtOth").value;
            var se = document.getElementById("txtSam").value;

            var totamt = 0;
            if (qty == "")
                qty = 0;

            if (up == "")
                up = 0;

            if (se == "")
                se = 0;
   
                var tot = eval(qty) + eval(up) + eval(se);
                document.getElementById("txtTamo").value = tot.toFixed(2);
           
        }
        catch (ex) {
            alert(ex.message);
        }
    }


    $('.form_date').datetimepicker({
        //   language:  'fr',
        weekStart: 1,
        todayBtn: 1,
        autoclose: 1,
        todayHighlight: 1,
        startView: 2,
        minView: 2,
        forceParse: 0
    });

    function fetchindent(indentid) {
        document.getElementById("tbBooks").innerHTML = "";
        $.ajax({
            url: 'GetIndentDetail',
            data: { "indentid": indentid },
            type: "GET",
            success: function (list) {
                if (list != null && list.length > 0) {
                    list.forEach((item) => {
                        loadindent(item)
                    });
                }
                //document.getElementById("txtDocNo").value = result.doc;
            },
            error: function () {
                alert("Data Not Found");
            }
        });
    }
</script>


<a class="fancybox1" rel="group" data-fancybox-type="iframe" href="#" style="display: none; width: 760px;"></a>
<a class="fancyboxe1" rel="group" data-fancybox-type="iframe" href="#" style="display: none; width: 760px;"></a>
<link rel="stylesheet" href="@Url.Content("~/css/jquery.fancybox.css?v=2.1.5")" type="text/css" media="screen" />
<script type="text/javascript" src="@Url.Content("~/css/jquery.fancybox.pack.js?v=2.1.5")"></script>
<script type="text/javascript">
    var fancybox123;
    jQuery(document).ready(function ($) {
        $(".fancybox").fancybox({
            width: '80%',
            height: '10%',
            arrows: false,

        });
        fancybox123 = $.fancybox;
    });
    function close_popup() {
        fancybox123.close();
        $(".fancybox1").fancybox({
            width: '100%',
            height: '100%',
            arrows: false,
        });
        $(".fancybox1").eq(0).trigger('click');
    }
</script>
