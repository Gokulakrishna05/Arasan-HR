@model Arasan.Models.GRN

@{
    ViewData["Title"] = "  GRN ";
}   
<div class="row wrapper border-bottom page-heading">
      <div class="col-lg-12">
  <style>
        .newwidth{ width:90px; }
    </style>
        <ol class="breadcrumb">
          <li> <a href="#">Home</a> </li>
          <li> <a>Purchase</a> </li>
          <li class="active"> <strong> GRN </strong> </li>
        </ol>
      </div>
    </div>
     <div class="wrapper-content ">
        <div class="row">
         <div class="col-lg-12">
          <div class="ibox float-e-margins">
            <div class="widgets-container">
              <h5 style="font-size:14px">GRN</h5>
              <hr>
              
                                          @using (Html.BeginForm("GRN", "GRN", FormMethod.Post))
                        {
                            @Html.AntiForgeryToken()
              <form>
			  <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                            
                                                <label for="inputName3" class="col-sm-4 control-label">Branch<label class="Mandatory"></label></label>
                                                <div class="col-sm-8">
                                                   @Html.DropDownListFor(C => C.Branch, Model.Brlst, new { @id = "ddlBranch", @Class = "form-control chosen-select", @TabIndex = 1 ,@disabled="disabled"})<br/>
                                                </div>
                                            </div>
                                        </div>
                                       
                                    </div>
									
									<div style="height:30px;"></div>
									 <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                            
                                                <label for="inputName3" class="col-sm-4 control-label">GRN No.<label class="Mandatory"></label></label>
                                                <div class="col-sm-8">
                                                     @Html.TextBoxFor(C => C.GRNNo, new { @id = "GRNNo", @class = "form-control", @TabIndex = 2 ,@readonly=true})
                                            @Html.HiddenFor(C => C.ID)
                                            @Html.HiddenFor(C => C.BranchID)
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="inputName3" class="col-sm-4 control-label">GRN Date<label class="Mandatory"></label></label>
                                               <div class="col-sm-8">
                                                     @Html.TextBoxFor(C => C.GRNdate, new { @id = "GRNdate", @class = "form-control", @TabIndex = 2 ,@readonly=true})<br/>
                                                </div>
												
                                               
                                            </div>
                                        </div>
                                    </div>
               <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                            
                                                <label for="inputName3" class="col-sm-4 control-label">Currency<label class="Mandatory"></label></label>
                                                <div class="col-sm-8">
                                                 @Html.DropDownListFor(C => C.Cur, Model.Curlst, new { @id = "ddlCur", @Class = "form-control chosen-select", @TabIndex = 1 ,@disabled="disabled"})
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="inputName3" class="col-sm-4 control-label">Exchange Rate<label class="Mandatory"></label></label>
                                              
                                                      <div class="col-sm-8">
												   @Html.TextBoxFor(C => C.ExRate, new { @id = "ExRate", @class = "form-control", @TabIndex = 2 })<br/>
												</div>
                                               
                                            </div>
                                        </div>
                                    </div>
									 <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                            
                                                <label for="inputName3" class="col-sm-4 control-label">Supplier Invoice. No.<label class="Mandatory"></label></label>
                                                <div class="col-sm-8">
                                                    @Html.TextBoxFor(C => C.RefNo, new { @id = "RefNo", @class = "form-control", @TabIndex = 2 })<br/>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="inputName3" class="col-sm-4 control-label">Supplier Invoice. Date<label class="Mandatory"></label></label>
                                              
                                                     <div class="input-group date form_date col-sm-8" data-date="" data-date-format="dd-M-yyyy" >
                                                         @Html.TextBoxFor(C => C.RefDate, new { @id = "RefDate", @class = "form-control", @TabIndex = 2,@size="32",@readonly=true })
														<span class="input-group-addon"><span class="glyphicon glyphicon-remove"></span></span> <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span><br/>
													</div>
                                               
                                            </div>
                                        </div>
                                    </div>
									
									 
									<div style="height:30px;"></div>
									 <div class="row">
                                       
                                       <div class="col-md-6">
                                            <div class="form-group">
                                            
                                                <label for="inputName3" class="col-sm-4 control-label">Party Id<label class="Mandatory"></label></label>
                                                <div class="col-sm-8">
                                                        @Html.DropDownListFor(C => C.Supplier, Model.Suplst, new { @id = "ddlSupplier", @Class = "form-control chosen-select", @TabIndex = 1 ,@disabled="disabled"})
                                                </div>
                                            </div>
                                        </div>
										<div class="col-md-6">
                                            <div class="form-group">
                                            
                                                <label for="inputName3" class="col-sm-4 control-label">Address<label class="Mandatory"></label></label>
                                                <div class="col-sm-8">
                                                    <textarea class="form-control" id="inputEmail3" type="text" rows="3"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                   
									
									
									 <div style="height:30px;"></div>
			 <div class="row">
			
			 
          <div class="col-lg-12" style="overflow-x:scroll; min-width:300px; min-height:200px;">
           
                    <table class="table table-striped table-hover">
                      <thead>
                        <tr>
                         <th>   Item Group</th>
                          <th> Item </th>
                          <th> Description </th>
                          <th>Unit</th>
                          <th> Conversion. Factor </th>
                        <th> Order Qty </th>
                       <th> Pend. Qty </th>
                       <th> Bill Qty </th>
                        <th> Recvd. Qty (Good)</th>
                         <th>  Recvd. Qty (Defect) </th>
                                 <th>Rate </th>
                                <th> Amount</th>
                                 <th> Disc %</th>
                         <th> Disc amount</th>
                  <th> Cost Rate</th>
                            @* <th>Assessable Value</th>
                                  <th>Tariff Id</th>*@
                              <th>CGSTP</th>
                               <th>SGSTP</th>
                                <th>IGSTP</th>
                                 <th>CGST</th>
                                  <th>SGST</th>
                                   <th>IGST</th>
                                    <th>Total Amount</th>
                                   
                                      <th>Purchase Type</th>
                        </tr>
                      </thead>
                      <tbody id="tbBooks">
                        @{

                                                            int i = 0;
                                                            int j = 1;
                                                            foreach (var item in Model.PoItem.ToList())
                                                            {
                                                                                                                                                            <tr id="trBook@(i)" class="chkitemlst" style="height: 30px;border-bottom: 1px dashed #ddd;">
                                                                                                                                                            <td>
                                                                                                                                                            @Html.DropDownListFor(o => o.PoItem[i].ItemGroupId, Model.PoItem[i].ItemGrouplst, "Please Select", new { @class = "form-control chosen-select newcss", @id = "ddlItemGrp" + i, style = "width: 170px;", onchange = "Grup_Change(this.value," + i + ")",disabled="disabled" })
                                                                                                                                                        </td>
                                                                                                                                                        <td>

                                                                                                                                                            @Html.DropDownListFor(o => o.PoItem[i].ItemId, Model.PoItem[i].Itemlst, "Please Select", new { @class = "form-control chosen-select newcss", @id = "ddlItem" + i, style = "width: 170px;", onchange = "changeItem(this.value," + i + ")",disabled="disabled" })
                                                                                                                                                        @Html.HiddenFor(o => o.PoItem[i].saveItemId)
                                                                                                                                                            </td>
                                                                                                                                                         <td>
                                                                                                                                                            @Html.TextBoxFor(o => o.PoItem[i].Desc, new { @id = "txtDesc" + i, @class = "form-control", style = "width: 200px;", @readonly = "readonly"})
                                                                                                                                                        </td>
                                                                                                                                                         <td>
                                                                                                                                                            @Html.TextBoxFor(o => o.PoItem[i].Unit, new { @id = "txtUnit" + i, @class = "form-control", style = "width: 100px;" , @readonly = "readonly"})
                                                                                                                                                        </td>
                                                                                                                                                         <td>
                                                                                                                                                            @Html.TextBoxFor(o => o.PoItem[i].Conversionfactor, new { @id = "txtConversionfactor" + i, @class = "form-control", style = "width: 100px;", @readonly = "readonly" })
                                                                                                                                                        </td>
                                                                                                                                                         <td>
                                                                                                                                                            @Html.TextBoxFor(o => o.PoItem[i].Quantity, new { @id = "txtQuantity" + i, @class = "form-control", onkeydown = "return isNumeric2(event.keyCode,this.value)", style = "width: 100px;text-align:right", @onkeyup = "changeQty(this," + i + ")", @readonly = "readonly"})
                                                                                                                                                        </td>
                                                                                                                                                         <td>
                                                                                                                                                            @Html.TextBoxFor(o => o.PoItem[i].PendingQty, new { @id = "txtPendingQty" + i, @class = "form-control", onkeydown = "return isNumeric2(event.keyCode,this.value)", style = "width: 100px;text-align:right", @onkeyup = "changeQty(this," + i + ")", @readonly = "readonly"})
                                                                                                                                                        </td>
                                                                                                                                                         <td>
                                                                                                                                                            @Html.TextBoxFor(o => o.PoItem[i].BillQty, new { @id = "txtBillQty" + i, @class = "form-control", onkeydown = "return isNumeric2(event.keyCode,this.value)", style = "width: 100px;text-align:right", @onkeyup = "changeQty(this," + i + ")"})
                                                                                                                                                        </td>
                                                                                                                                                         <td>
                                                                                                                                                            @Html.TextBoxFor(o => o.PoItem[i].Goodqty, new { @id = "txtGoodqty" + i, @class = "form-control", onkeydown = "return isNumeric2(event.keyCode,this.value)", style = "width: 100px;text-align:right"})
                                                                                                                                                        </td>
                                                                                                                                                         <td>
                                                                                                                                                            @Html.TextBoxFor(o => o.PoItem[i].DamageQty, new { @id = "txtDamageQty" + i, @class = "form-control", onkeydown = "return isNumeric2(event.keyCode,this.value)", style = "width: 100px;text-align:right"})
                                                                                                                                                        </td>
                                                                                                                                                         <td>
                                                                                                                                                            @Html.TextBoxFor(o => o.PoItem[i].rate, new { @id = "txtrate" + i, @class = "form-control", onkeydown = "return isNumeric2(event.keyCode,this.value)", style = "width: 100px;text-align:right", @onkeyup = "changeQty(this," + i + ")" })
                                                                                                                                                        </td>
                                                                                                                                                         <td>
                                                                                                                                                          @Html.HiddenFor(o => o.PoItem[i].Isvalid, new { @id = "Isvalid" + i })
                                                                                                                                                            @Html.TextBoxFor(o => o.PoItem[i].Amount, new { @id = "txtAmount" + i, @class = "form-control", onkeydown = "return isNumeric2(event.keyCode,this.value)", style = "width: 100px;text-align:right",@readonly="readonly"})
                                                                                                                                                        </td>
                                                                                                                                                         <td>
                                                                                                                                                            @Html.TextBoxFor(o => o.PoItem[i].DiscPer, new { @id = "txtDiscPer" + i, @class = "form-control", onkeydown = "return isNumeric2(event.keyCode,this.value)", style = "width: 100px;text-align:right", @onkeyup = "changeQty(this," + i + ")" })
                                                                                                                                                        </td>
                                                                                                                                                         <td>
                                                                                                                                                            @Html.TextBoxFor(o => o.PoItem[i].DiscAmt, new { @id = "txtDiscAmt" + i, @class = "form-control", onkeydown = "return isNumeric2(event.keyCode,this.value)", style = "width: 100px;text-align:right", @onkeyup = "changeQty(this," + i + ")" })
                                                                                                                                                        </td>
                                                                                                                                                       <td>
                                                                                                                                                            @Html.TextBoxFor(o => o.PoItem[i].CostRate, new { @id = "txtCostRate" + i, @class = "form-control", onkeydown = "return isNumeric2(event.keyCode,this.value)", style = "width: 100px;text-align:right" })
                                                                                                                                                        </td>
                                                                                                                                                        @*    <td>
                                                                                                                                                            @Html.TextBoxFor(o => o.PoItem[i].AcessValue, new { @id = "txtAcessValue" + i, @class = "form-control", onkeydown = "return isNumeric2(event.keyCode,this.value)", style = "width: 100px;text-align:right" })
                                                                                                                                                        </td> *@
                                                                                                                                                         <td>
                                                                                                                                                            @Html.TextBoxFor(o => o.PoItem[i].CGSTPer, new { @id = "txtCGSTPer" + i, @class = "form-control", onkeydown = "return isNumeric2(event.keyCode,this.value)", style = "width: 100px;text-align:right", @onkeyup = "changeQty(this," + i + ")" })
                                                                                                                                                        </td>
                                                                                                                                                          <td>
                                                                                                                                                            @Html.TextBoxFor(o => o.PoItem[i].SGSTPer, new { @id = "txtSGSTPer" + i, @class = "form-control", onkeydown = "return isNumeric2(event.keyCode,this.value)", style = "width: 100px;text-align:right", @onkeyup = "changeQty(this," + i + ")" })
                                                                                                                                                        </td>
                                                                                                                                                          <td>
                                                                                                                                                            @Html.TextBoxFor(o => o.PoItem[i].IGSTPer, new { @id = "txtIGSTPer" + i, @class = "form-control", onkeydown = "return isNumeric2(event.keyCode,this.value)", style = "width: 100px;text-align:right", @onkeyup = "changeQty(this," + i + ")" })
                                                                                                                                                        </td>
                                                                                                                                                          <td>
                                                                                                                                                            @Html.TextBoxFor(o => o.PoItem[i].CGSTAmt, new { @id = "txtCGSTAmt" + i, @class = "form-control", onkeydown = "return isNumeric2(event.keyCode,this.value)", style = "width: 100px;text-align:right", @onkeyup = "changeQty(this," + i + ")" })
                                                                                                                                                        </td>
                                                                                                                                                        
                                                                                                                                                          <td>
                                                                                                                                                            @Html.TextBoxFor(o => o.PoItem[i].SGSTAmt, new { @id = "txtSGSTAmt" + i, @class = "form-control", onkeydown = "return isNumeric2(event.keyCode,this.value)", style = "width: 100px;text-align:right", @onkeyup = "changeQty(this," + i + ")" })
                                                                                                                                                        </td>
                                                                                                                                                        
                                                                                                                                                          <td>
                                                                                                                                                            @Html.TextBoxFor(o => o.PoItem[i].IGSTAmt, new { @id = "txtIGSTAmt" + i, @class = "form-control", onkeydown = "return isNumeric2(event.keyCode,this.value)", style = "width: 100px;text-align:right", @onkeyup = "changeQty(this," + i + ")" })
                                                                                                                                                        </td>
                                                                                                                                                         <td>
                                                                                                                                                            @Html.TextBoxFor(o => o.PoItem[i].TotalAmount, new { @id = "txtTotalAmount" + i, @class = "form-control", onkeydown = "return isNumeric2(event.keyCode,this.value)", style = "width: 100px;text-align:right", @onkeyup = "changeQty(this," + i + ")" })
                                                                                                                                                        </td>
                                                                                                                                                       
                                                                                                                         <td>
                                                                                                                                                            @Html.DropDownListFor(o => o.PoItem[i].Purtype, Model.PoItem[i].PURLst, "Please Select", new { @class = "form-control chosen-select newcss", @id = "ddlPurtype" + i, style = "width: 170px;"})
                                                                                                                                                        </td>
                                                                                                                                                       @*   <td>
                                                                                                               
                                                                                                                <img onclick="removeRow(@(i));" src="../Images/delete.png" style="cursor:pointer" /> <input name="EnqLst.Index" type="hidden" value="@(i)" />
                                                                                                            </td>*@
                                                                                                                                                        </tr>


                                                             i = i + 1;
                                                             j = j + 1;
                                                            }
                                                        }
                      </tbody>
                    </table>
                 
          </div>
        </div>
		<div style="height:30px;"></div>
									<div class="row">
                                       
                                      <div class="col-md-6">
                                            <div class="form-group">
                                            
                                                <label for="inputName3" class="col-sm-4 control-label">Packing and Forwarding ( + ) <label class="Mandatory"></label></label>
                                                <div class="col-sm-8">
                                                     @Html.TextBoxFor(C => C.Packingcharges, new { @id = "txtPackingcharges", @class = "form-control", @TabIndex = 2,onkeydown = "return isNumeric2(event.keyCode,this.value)" , @onkeyup = "changeTot(this)"})
                                                </div>
                                            </div>
                                        </div>
										<div class="col-md-6">
                                            <div class="form-group">
                                            
                                                <label for="inputName3" class="col-sm-4 control-label">Freight Charges ( + ) <label class="Mandatory"></label></label>
                                                <div class="col-sm-8">
                                                   @Html.TextBoxFor(C => C.Frieghtcharge, new { @id = "txtFrieghtcharge", @class = "form-control", @TabIndex = 2, onkeydown = "return isNumeric2(event.keyCode,this.value)" , @onkeyup = "changeTot(this)"})
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                     <div style="height:30px;"></div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">

                                    <label for="inputName3" class="col-sm-4 control-label">Other Charges ( + )<label class="Mandatory"></label></label>
                                    <div class="col-sm-8">
                                            @Html.TextBoxFor(C => C.Othercharges, new { @id = "txtOthercharges", @class = "form-control", @TabIndex = 2,onkeydown = "return isNumeric2(event.keyCode,this.value)"  , @onkeyup = "changeTot(this)"})
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="inputName3" class="col-sm-4 control-label">Round Off ( + )<label class="Mandatory"></label></label>

                                    <div class="col-sm-8">
                                            @Html.TextBoxFor(C => C.Round, new { @id = "txtRound", @class = "form-control", @TabIndex = 2 ,onkeydown = "return isNumeric2(event.keyCode,this.value)" , @onkeyup = "changeTot(this)"})
                                    </div>

                                </div>
                            </div>
                        </div>
                         <div style="height:30px;"></div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">

                                    <label for="inputName3" class="col-sm-4 control-label">Other Deductions ( - )<label class="Mandatory"></label></label>
                                    <div class="col-sm-8">
                                            @Html.TextBoxFor(C => C.otherdeduction, new { @id = "txtotherdeduction", @class = "form-control", @TabIndex = 2,onkeydown = "return isNumeric2(event.keyCode,this.value)"  , @onkeyup = "changeTot(this)"})
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="inputName3" class="col-sm-4 control-label">Round Off ( - )<label class="Mandatory"></label></label>

                                    <div class="col-sm-8">
                                            @Html.TextBoxFor(C => C.Roundminus, new { @id = "txtRoundminus", @class = "form-control", @TabIndex = 2 ,onkeydown = "return isNumeric2(event.keyCode,this.value)" , @onkeyup = "changeTot(this)"})
                                    </div>

                                </div>
                            </div>
                        </div>
									<div style="height:30px;"></div>
									 <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                            
                                                <label for="inputName3" class="col-sm-4 control-label">Gross<label class="Mandatory"></label></label>
                                                <div class="col-sm-8">
                                                    @Html.TextBoxFor(C => C.Gross, new { @id = "txtGross", @class = "form-control", @TabIndex = 2 ,onkeydown = "return isNumeric2(event.keyCode,this.value)",@readonly=true})
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="inputName3" class="col-sm-4 control-label">Net<label class="Mandatory"></label></label>
                                              
                                                      <div class="col-sm-8">
                                                        <input type="hidden" id="hidnet" /> 
												 @Html.TextBoxFor(C => C.Net, new { @id = "txtNet", @class = "form-control", @TabIndex = 2,onkeydown = "return isNumeric2(event.keyCode,this.value)" ,@readonly=true})
												</div>
                                               
                                            </div>
                                        </div>
                                    </div>
									
									@*<div style="height:30px;"></div>
									 <div class="row">
                                        <div class="col-md-12">
                                            <div class="form-group">
                                            
                                                <label for="inputName3" class="col-sm-2 control-label">Amount In Words<label class="Mandatory"></label></label>
                                                <div class="col-sm-10">
                                                    <input class="form-control" id="inputEmail3" placeholder="" type="text">
                                                </div>
                                            </div>
                                        </div>
                                       
                                    </div>*@
									
                                    
                                       
									<div style="height:30px;"></div>
									 <div class="row">
                                        <div class="col-md-12">
                                            <div class="form-group">
                                            
                                                <label for="inputName3" class="col-sm-2 control-label">Narration<label class="Mandatory"></label></label>
                                                <div class="col-sm-10">
                                                    @Html.TextAreaFor(C => C.Narration, new { @id = "txtNarration", @class = "form-control", @TabIndex = 2 })
                                                </div>
                                            </div>
                                        </div>
                                        
                                    </div>

                                     <div style="height:30px;"></div>
                                          <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                            
                                                <label for="inputName3" class="col-sm-4 control-label">Truck No.<label class="Mandatory"></label></label>
                                                <div class="col-sm-8">
                                                    @Html.TextBoxFor(C => C.truckno, new { @id = "txttruckno", @class = "form-control", @TabIndex = 2 })
                                                </div>
                                            </div>
                                        </div>
                                         <div class="col-md-6">
                                            <div class="form-group">
                                            
                                                <label for="inputName3" class="col-sm-4 control-label">Transporter<label class="Mandatory"></label></label>
                                                <div class="col-sm-8">
                                                     @Html.TextBoxFor(C => C.drivername, new { @id = "txtdrivername", @class = "form-control", @TabIndex = 2 })
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                     <div style="height:30px;"></div>
                                          <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                            
                                                <label for="inputName3" class="col-sm-4 control-label">LR. No.<label class="Mandatory"></label></label>
                                                <div class="col-sm-8">
                                                      @Html.TextBoxFor(C => C.LRno, new { @id = "txtLRno", @class = "form-control", @TabIndex = 2 })
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="inputName3" class="col-sm-4 control-label">LR.Date<label class="Mandatory"></label></label>
                                              
                                                    <div class="input-group date form_date col-sm-8" data-date="" data-date-format="dd-M-yyyy" >
                                            @Html.TextBoxFor(C => C.LRdate, new { @id = "LRdate", @class = "form-control", @TabIndex = 2,@size="32",@readonly=true })
														<span class="input-group-addon"><span class="glyphicon glyphicon-remove"></span></span> <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
													</div>
                                               
                                            </div>
                                        </div>
                                    </div>
                                    <div style="height:30px;"></div>
                                          <div class="row">
                                       
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="inputName3" class="col-sm-4 control-label">Place Of Dispatch<label class="Mandatory"></label></label>
                                              
                                                      <div class="col-sm-8">
												   @Html.TextBoxFor(C => C.dispatchname, new { @id = "txtdispatchname", @class = "form-control", @TabIndex = 2 })
												</div>
                                               
                                            </div>
                                        </div>
                                    </div>

									<div style="height:30px;"></div>
                <button type="submit" class="btn aqua m-t-xs bottom15-xs">Submit</button>
				  <button class="btn btn-danger" type="button" causesvalidation="false" onclick="location.href='@Url.Action("ListGRN", "GRN")'">Cancel</button>
              </form>
              }
            </div>
          </div>
        </div>
         
        </div>
      </div>
<script>
     $(".chosen-select").chosen();
      $('.form_date').datetimepicker({
     //   language:  'fr',
        weekStart: 1,
        todayBtn:  1,
    autoclose: 1,
    todayHighlight: 1,
    startView: 2,
    minView: 2,
    forceParse: 0
    });
    function changeQty(_this, i) {
                try {

                       var j = 0;
                    var qty = 0;
                    var tot = 0;
                    var totfrieght = 0;
                    var totamt = 0;
                    var totamount = 0;
                    var qty = document.getElementById("txtBillQty" + i).value;
                    var orderqty = document.getElementById("txtQuantity" + i).value;
                    var up = document.getElementById("txtrate" + i).value;
                    var cf = document.getElementById("txtConversionfactor" + i).value;
                    //var frieght = document.getElementById("txtFrieghtAmt" + i).value;
                 
                    var IGST = document.getElementById("txtIGSTPer" + i).value;

                    var CGST = document.getElementById("txtCGSTPer" + i).value;

                    var SGST = document.getElementById("txtSGSTPer" + i).value;
                   
                    var Disc = document.getElementById("txtDiscPer" + i).value;

                    if (qty == "")
                        qty = 0;

                     if (orderqty == "")
                        orderqty = 0;

                    if (up == "")
                        up = 0;

                    if (cf == "")
                        cf = 1;

                    if (IGST == "")
                        IGST = 0;

                    if (CGST == "")
                        CGST = 0;

                    if (SGST == "")
                        SGST = 0;

                    if (Disc == "")
                        Disc = 0;

                    //if (frieght == "")
                    //    frieght = 0;
                    document.getElementById("txtGoodqty" + i).value = qty;
                    var tot = eval(qty) * eval(up) * eval(cf);
                    document.getElementById("txtAmount" + i).value = tot.toFixed(2);
                    var igstperc = (eval(tot) / 100) * eval(IGST);
                    var cgstperc = (eval(tot) / 100) * eval(CGST);
                    var sgstperc = (eval(tot) / 100) * eval(SGST);

                    var Discperc = (eval(tot) / 100) * eval(Disc);

                     document.getElementById("txtCGSTAmt" + i).value = cgstperc.toFixed(2);
                      document.getElementById("txtSGSTAmt" + i).value = sgstperc.toFixed(2);
                       document.getElementById("txtIGSTAmt" + i).value = igstperc.toFixed(2);
                        document.getElementById("txtDiscAmt" + i).value = Discperc.toFixed(2);

                    var tottax = eval(tot) + eval(igstperc) + eval(cgstperc) + eval(sgstperc); /*+ eval(frieght);*/
                    var totdisc = eval(tottax) - eval(Discperc);
                    //alert(totdisc);
                    document.getElementById("txtTotalAmount" + i).value = totdisc.toFixed(2);

                    document.getElementById("txtPendingQty" + i).value = eval(orderqty) - eval(qty);
                    $('tr.chkitemlst').each(function () {
                        if ($(this).css('display') !== 'none') {
                        //    frieght = $(this).find('#txtFrieghtAmt' + j.toString()).val();
                        //    if (frieght == "")
                        //frieght = 0;

                         var amt = $(this).find('#txtAmount' + j.toString()).val();
                            if (amt == "")
                        amt = 0;

                         totamt += eval(amt);
                         //totfrieght += eval(frieght);

                          var tamt = $(this).find('#txtTotalAmount' + j.toString()).val();
                            if (tamt == "")
                        tamt = 0;

                        totamount += eval(tamt);

                              }
                        j += 1;
                    });
                  //document.getElementById("txtFrieghtcharge").value = totfrieght.toFixed(2);
                   document.getElementById("txtGross").value = totamt.toFixed(2);
                   //document.getElementById("txtNet").value = totamount.toFixed(2);
                 document.getElementById("hidnet").value = totamount.toFixed(2);  

                 //////////total net amount

                 var netamt = document.getElementById("hidnet").value;
                var frieght =document.getElementById("txtFrieghtcharge").value;
                 var packing =document.getElementById("txtPackingcharges").value;
                  var other =document.getElementById("txtOthercharges").value;
                  var roundoff =document.getElementById("txtRound").value;
                   var otherdeduct =document.getElementById("txtotherdeduction").value;
                    var roundoffminus =document.getElementById("txtRoundminus").value;
                //alert(netamt);
                var totamounts = 0;
                var rotamt = 0;
                  if (frieght == "")
                        frieght = 0;

                         if (packing == "")
                        packing = 0;

                         if (other == "")
                        other = 0;

                         if (roundoff == "")
                        roundoff = 0;

                        if (otherdeduct == "")
                        otherdeduct = 0;

                         if (roundoffminus == "")
                        roundoffminus = 0;

                totamounts = eval(frieght) + eval(packing) + eval(other) + eval(roundoff) + eval(netamt) ;
                rotamt = eval(totamounts) - (eval(roundoffminus) + eval(otherdeduct));
                 document.getElementById("txtNet").value = rotamt.toFixed(2); 




                }
                catch (ex) {
                    alert(ex.message);
                }
            }
            function changeTot(_this){
                var netamt = document.getElementById("hidnet").value;
                var frieght =document.getElementById("txtFrieghtcharge").value;
                 var packing =document.getElementById("txtPackingcharges").value;
                  var other =document.getElementById("txtOthercharges").value;
                  var roundoff =document.getElementById("txtRound").value;
                   var otherdeduct =document.getElementById("txtotherdeduction").value;
                    var roundoffminus =document.getElementById("txtRoundminus").value;
                //alert(netamt);
                var totamount = 0;
                var rotamt = 0;
                  if (frieght == "")
                        frieght = 0;

                         if (packing == "")
                        packing = 0;

                         if (other == "")
                        other = 0;

                         if (roundoff == "")
                        roundoff = 0;

                        if (otherdeduct == "")
                        otherdeduct = 0;

                         if (roundoffminus == "")
                        roundoffminus = 0;

                totamount = eval(frieght) + eval(packing) + eval(other) + eval(roundoff) + eval(netamt) ;
                rotamt = eval(totamount) - (eval(roundoffminus) + eval(otherdeduct));
                 document.getElementById("txtNet").value = rotamt.toFixed(2);   

            }
            function roundtorupee(amt) {
            if(amt - round_decimals(amt,0) > 0.5)
                return pad_with_zeros(round_decimals(amt + 1, 0));
            return pad_with_zeros(round_decimals(amt , 0));
        }
</script>