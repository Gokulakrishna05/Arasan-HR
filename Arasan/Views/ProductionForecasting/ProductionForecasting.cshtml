@model Arasan.Models.ProductionForecasting
@{
    ViewData["Title"] = "Production Forecasting";
}
<style>
    .newwidth {
        width: 120px;
    }

    .mandatory {
        color: red;
        position: relative;
        top: 2px;
        left: 5px;
    }

    div.scroll {
        width: 100%;
        height: 400px;
        overflow-x: auto;
        overflow-y: auto;
        /* text-align: center;*/
        /*padding: 20px;*/
    }
</style>
<div class="page-content-wrapper animated fadeInRight">
    <div class="row wrapper border-bottom page-heading">
        <div class="col-lg-12">

            <ol class="breadcrumb">
                <li> <a href="#">Home</a> </li>
                <li> <a>Production</a> </li>
                <li class="active"> <strong> Production Forecasting</strong> </li>
            </ol>
        </div>
    </div>
    <div class="wrapper-content ">
        <div class="row">
            <div class="col-lg-12">
                <div class="ibox float-e-margins">
                    <div class="widgets-container">
                        <h5 style="font-size:14px">Production Forecasting</h5>
                        <hr>
                        @using (Html.BeginForm("ProductionForecasting", "ProductionForecasting", FormMethod.Post))
                        {
                            @Html.AntiForgeryToken()

                            <form>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">

                                            <br /> <label for="inputName3" class="col-sm-4 control-label">Doc ID<label class="Mandatory"></label></label>
                                            <div class="col-sm-8">
                                                @Html.TextBoxFor(C => C.DocId, new { @id = "DocId", @class = "form-control", @TabIndex = 1,@readonly="readonly" })
                                                @Html.HiddenFor(C => C.ID)
                                                @Html.HiddenFor(C => C.Branch)
                                                @Html.HiddenFor(C => C.Enterd)
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">


                                            <br /> <label for="inputName3" class="col-sm-4 control-label">DOC Date<label class="Mandatory"></label></label>
                                            <div class="input-group date form_date col-sm-8" data-date="" data-date-format="dd-M-yyyy">
                                                @Html.TextBoxFor(C => C.Docdate, new { @id = "Docdate", @class = "form-control", @TabIndex = 2,@size="32",@readonly=true })
                                                <span class="input-group-addon"><span class="glyphicon glyphicon-remove"></span></span> <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                                            </div>
                                        </div>
                                    </div>
                                    </div>
                                    <div class="row">
                                   
                                    <div class="col-md-6">
                                        <div class="form-group">

                                            <br />  <label for="inputName3" class="col-sm-4 control-label">Plan Type<label class="Mandatory"></label></label>
                                            <div class="col-sm-8">
                                                @Html.RadioButtonFor(o => o.plantype, "MONTHLY", new { @id = "txtplantype",@TabIndex = 2})
                                                <label id="mt-radio">MONTHLY</label>
                                                @Html.RadioButtonFor(o => o.plantype, "YEARLY", new { @id = "txtplantype",@TabIndex = 3})
                                                <label id="mt-radio">YEARLY</label>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="form-group">


                                            <br /> <label for="inputName3" class="col-sm-4 control-label">For The Month Of<label class="Mandatory"></label></label>
                                            <div class="col-sm-8">
                                                @Html.DropDownListFor(C => C.ForMonth, Model.mnthlst," -- Please Select -- ", new { @id = "ddlmnth", @Class = "form-control _select", @TabIndex = 1 ,@onchange="changemnth(this.value)"})

                                            </div>
                                        </div>
                                    </div>


                                    </div>
                                    <div class="row">
                                    
                                    <div class="col-md-6">
                                        <div class="form-group">


                                            <br /><label for="inputName3" class="col-sm-4 control-label">Ins/Dec[%]<label class="Mandatory"></label></label>
                                            <div class="col-sm-8">
                                                @Html.TextBoxFor(C => C.Ins, new { @id = "Ins", @class = "form-control", @TabIndex = 2 })

                                            </div>
                                        </div>
                                      </div>
                                    
                                    <div class="col-md-6">
                                        <div class="form-group">


                                            <br /><label for="inputName3" class="col-sm-4 control-label">Holidays<label class="Mandatory"></label></label>
                                            <div class="col-sm-8">
                                                @Html.TextBoxFor(C => C.Hd, new { @id = "Hd", @class = "form-control", @TabIndex = 2 })

                                            </div>
                                        </div>
                                    </div>
                                  
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">


                                            <br />  <label for="inputName3" class="col-sm-4 control-label">Prod Start Date<label class="Mandatory"></label></label>
                                            <div class="input-group date form_date col-sm-8" data-date="" data-date-format="dd-M-yyyy">
                                                @Html.TextBoxFor(C => C.Fordate, new { @id = "Fordate", @class = "form-control", @TabIndex = 2,@size="32",@readonly=true })
                                                <span class="input-group-addon"><span class="glyphicon glyphicon-remove"></span></span> <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <br /> <label for="inputName3" class="col-sm-4 control-label">End Date<label class="Mandatory"></label></label>
                                            <div class="input-group date form_date col-sm-8" data-date="" data-date-format="dd-M-yyyy">
                                                @Html.TextBoxFor(C => C.Enddate, new { @id = "Enddate", @class = "form-control", @TabIndex = 2,@size="32",@readonly=true })
                                                <span class="input-group-addon"><span class="glyphicon glyphicon-remove"></span></span> <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div style="height:30px;"></div>
                                <div class="row">
                                    <div class="col-md-12">

                                        <div class="tabs-container">
                                            <ul class="nav nav-tabs">
                                                @*<li class="active"><a href="#tab-1" data-toggle="tab">Prod Forecast Detail</a></li>*@
                                                <li class="active"><a href="#tab-2" data-toggle="tab">Prod Forecast DG Paste </a></li>
                                                <li><a href="#tab-3" data-toggle="tab">Prod Forecast Pyro</a></li>
                                                <li><a href="#tab-4" data-toggle="tab">Prod Forecast Polish</a></li>
                                                <li><a href="#tab-5" data-toggle="tab">Prod Forecast Rvd</a></li>
                                                <li><a href="#tab-6" data-toggle="tab">Paste Prod Forecast</a></li>
                                                <li><a href="#tab-7" data-toggle="tab">Prod Forecast APS</a></li>
                                                <li><a href="#tab-8" data-toggle="tab">AP Requirement Basic</a></li>
                                                <li><a href="#tab-9" data-toggle="tab">AP Production Plan</a></li>
                                                <li><a href="#tab-10" data-toggle="tab">Prod Forecast Packing</a></li>

                                            </ul>
                                            <div class="tab-content">
                                            @*<div class="tab-pane active" id="tab-1">
                                                    <!-- 1st tab  -->
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <div class="btn-group">
                                                                <p style="float:right;"> <input type="button" value="Add Row" onclick="AddRow()" class="btn sbold green" /></p>
                                                            </div>
                                                        </div>

                                                        <div class="col-lg-12">
                                                            <div class="ibox float-e-margins">

                                                                <!-- / ibox-title -->
                                                                <div id="demo3" class="ibox-content collapse in">
                                                                    <div class="borderedTable">
                                                                        <div class="table-scrollable">
                                                                            <table class="table table-striped table-hover">
                                                                                <thead>
                                                                                    <tr>
                                                                                      
                                                                                        <th>Prod Type</th>
                                                                                        <th>Item ID</th>
                                                                                        <th>Unit </th>
                                                                                        <th>Prv.Year Sale's Qty </th>
                                                                                        <th>Prv.Year's Month Sale's Qty </th>
                                                                                        <th>Curr.Month Forecast Qty </th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody id="tbBooks">
                                                                                      @{

                                                int i = 0;
                                                


                                                foreach (var item in Model.PFCILst.ToList())
                                                {
                                                                <tr id="trBook@(i)" class="chkitemlst" style="height: 30px;border-bottom: 1px dashed #ddd;">
                                                                <td>
                                                                   @Html.TextBoxFor(o => o.PFCILst[i].PType, new { @id = "txtPType" + i, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                                <td>
                                                                        @Html.DropDownListFor(o => o.PFCILst[i].ItemId, Model.PFCILst[i].Itemlst, "Please Select", new { @class = "form-control _select newcss", @id = "ddlItemId" + i, style = "width: 170px;", onchange = "changeItem(this.value," + i + ")"})
                                                                    @Html.HiddenFor(o => o.PFCILst[i].saveItemId)
                                                                </td>
                                                               <td>
                                                                @Html.TextBoxFor(o => o.PFCILst[i].Unit, new { @id = "txtUnit" + i, @class = "form-control", style = "width: 130px;" ,onkeydown = "return isNumeric2(event.keyCode,this.value)"})
                                                                 </td>
                                                                 <td>
                                                                @Html.TextBoxFor(o => o.PFCILst[i].PysQty, new { @id = "txtPysQty" + i, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                                 <td>
                                                                @Html.TextBoxFor(o => o.PFCILst[i].PtmQty, new { @id = "txtPtmQty" + i, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                                 <td>
                                                                 @Html.TextBoxFor(o => o.PFCILst[i].Fqty, new { @id = "txtFqty" + i, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                                 <td>
                                                                    @Html.HiddenFor(o => o.PFCILst[i].Isvalid, new { @id = "Isvalid" + i })
                                                                                    <img onclick="removeRow(@(i));" src="../Images/delete.png" style="cursor:pointer" /> <input name="EnqLst.Index" type="hidden" value="@(i)" />
                                                                 </td>

                                                            </tr>
                                                    i = i + 1;
                                                    

                                                }
                                            }



                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!-- 1st tab  -->
                                                </div>*@
                                                <div class="tab-pane active" id="tab-2">
                                                    <!-- 2nd tab  -->
                                                    <div class="row">
                                                     

                                                        <div class="col-lg-12">
                                                            <div class="ibox float-e-margins">

                                                                <!-- / ibox-title -->
                                                                <div id="demo3" class="ibox-content collapse in">
                                                                    <div class="borderedTable">
                                                                        <div class="table-scrollable">
                                                                            <table class="table table-striped table-hover">
                                                                                <thead>
                                                                                    <tr>
                                                                                        
                                                                                        <th>Item ID</th>
                                                                                        <th>Target</th>
                                                                                        <th>Min Stk </th>
                                                                                        <th> Stock </th>
                                                                                        <th>Required </th>
                                                                                        <th>DgAdditID </th>
                                                                                        <th> Req Additive </th>
                                                                                        <th>Raw Material</th>
                                                                                        <th>Req Pyro</th>
                                                                                       

                                                                                    </tr>
                                                                                </thead>
                                                                                 <tbody id="tbBooks1">
                                                                                      @{

                                                int j = 0;
                                                


                                                foreach (var item in Model.PFCDGILst.ToList())
                                                {
                                                                <tr id="trBook1@(j)" class="chkitemlst1" style="height: 30px;border-bottom: 1px dashed #ddd;">
                                                               
                                                                <td>
                                                                   @Html.TextBoxFor(o => o.PFCDGILst[j].itemid, new { @id = "txtItemid" + j, @class = "form-control", style = "width: 120px;" })
                                                                    @Html.HiddenFor(o => o.PFCDGILst[j].saveitemid)
                                                                </td>
                                                                 <td>
                                                                  @Html.TextBoxFor(o => o.PFCDGILst[j].target, new { @id = "txtTarget" + j, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                                 <td>
                                                                  @Html.TextBoxFor(o => o.PFCDGILst[j].min, new { @id = "txtMin" + j, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                                 <td>
                                                                 @Html.TextBoxFor(o => o.PFCDGILst[j].stock, new { @id = "txtStock" + j, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                                 <td>
                                                                 @Html.TextBoxFor(o => o.PFCDGILst[j].required, new { @id = "txtRequired" + j, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                                 <td>
                                                                                                    @Html.TextBoxFor(o => o.PFCDGILst[j].dgaddit, new { @id = "txtDgAdditID" + j, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                                 <td>
                                                                                                    @Html.TextBoxFor(o => o.PFCDGILst[j].reqadditive, new { @id = "txtReqAdditive" + j, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                                <td>
                                                                 @Html.TextBoxFor(o => o.PFCDGILst[j].rawmaterial, new { @id = "txtRawMaterial" + j, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                                <td>
                                                                       @Html.TextBoxFor(o => o.PFCDGILst[j].reqpyro, new { @id = "txtreqpyro" + j, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                               @* <td>
                                                                 @Html.TextBoxFor(o => o.PFCDGILst[j].ReqPyro, new { @id = "txtReqPyro" + j, @class = "form-control", style = "width: 120px;" })
                                                                </td>*@
                                                               

                                                            </tr>
                                                    j = j + 1;
                                                    

                                                }
                                            }



                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!-- 2nd tab  -->
                                                </div>
                                                <div class="tab-pane" id="tab-3">
                                                    <!-- 3rd tab  -->
                                                    <div class="row">
                                                     

                                                        <div class="col-lg-12">
                                                            <div class="ibox float-e-margins">

                                                                <!-- / ibox-title -->
                                                                <div id="demo3" class="ibox-content collapse in">
                                                                    <div class="borderedTable">
                                                                        <div class="table-scrollable">
                                                                             <div class="scroll">
                                                                           @* <table class="table table-striped table-hover" id="pyroforecast">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th></th>
                                                                                        <th >Work Center</th>
                                                                                        <th>Cum Days</th>
                                                                                        <th>Sales Tar </th>
                                                                                        <th> Prod Item </th>
                                                                                        <th> Min Stock </th>
                                                                                        <th> Stock </th>
                                                                                        <th> Past Rej %</th>
                                                                                        <th>Rej Qty </th>
                                                                                         <th>Required </th>
                                                                                         <th>Target(22Hrs)</th>
                                                                                        <th>Prod Days </th>
                                                                                        <th>Prod Qty </th>
                                                                                        <th>Rej Mat % </th>
                                                                                        <th>Rej Mat Req </th>
                                                                                        <th>Balance Qty </th>
                                                                                        <th>Additive 1 </th>
                                                                                        <th>Per </th>
                                                                                        <th>Alloc Additive </th>
                                                                                        <th>Req Ap Powder </th>
                                                                                        <th>WC Status </th>
                                                                                        <th>Powder Required </th>

                                                                                    </tr>
                                                                                </thead>
                                                                               <tbody id="tbBooks2">
                                                                                     
                                                                                </tbody>
                                                                            </table>*@
                                                                            <div id="newtable"></div>
                                                                            @Html.HiddenFor(o => o.pyrocunt, new { @id = "hdpyrocunt" } )
                                                                        </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!-- 3rd tab  -->
                                                </div>
                                                <div class="tab-pane" id="tab-4">
                                                    <!-- 4th tab  -->
                                                    <div class="row">
                                                     

                                                        <div class="col-lg-12">
                                                            <div class="ibox float-e-margins">

                                                                <!-- / ibox-title -->
                                                                <div id="demo3" class="ibox-content collapse in">
                                                                    <div class="borderedTable">
                                                                        <div class="table-scrollable">
                                                                            <table class="table table-striped table-hover">
                                                                                <thead>
                                                                                    <tr>
                                                                                     
                                                                                        <th>Work Center</th>
                                                                                        <th>Wc Days</th>
                                                                                        <th>Item Name </th>
                                                                                        <th> Target</th>
                                                                                        <th> Capacity </th>
                                                                                        <th>  Stock </th>
                                                                                        <th> Min Stock</th>
                                                                                        <th>Required </th>
                                                                                        <th>Days </th>
                                                                                        <th>Additive </th>
                                                                                        <th>Alloc Add </th>
                                                                                        <th>Raw Material</th>
                                                                                        <th>Req Per</th>
                                                                                        <th>Rvd Qty </th>
                                                                                        <th>Pyro Powder</th>
                                                                                        <th>Pyro Qty</th>
                                                                                        <th> Powder Required</th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody id="tbBooks3">
                                                                                      @{

                                                                   int p = 0;
                                                


                                                                 foreach (var item in Model.PFCPOLILst.ToList())
                                                                    {
                                                             <tr id="trBook3@(p)" class="chkitemlst3" style="height: 30px;border-bottom: 1px dashed #ddd;">
                                                               



                                                                                        <td>
                                                                                            @Html.DropDownListFor(o => o.PFCPOLILst[p].workid, Model.PFCPOLILst[p].POWorklst, "Please Select", new { @class = "form-control _select newcss", @id = "ddlPWorkId" + p, style = "width: 170px;"})
                                                                                            @Html.HiddenFor(o => o.PFCPOLILst[p].saveitemid)
                                                                                        </td>
                                                                                        <td>
                                                                                                    @Html.TextBoxFor(o => o.PFCPOLILst[p].wcdays, new { @id = "txtwcdays" + p, @class = "form-control", style = "width: 120px;" })
                                                                                        </td>
                                                                                        <td>
                                                                                            @Html.TextBoxFor(o => o.PFCPOLILst[p].itemid, new { @id = "txtitemid" + p, @class = "form-control", style = "width: 120px;" })
                                                                                        </td>
                                                                                        <td>
                                                                                            @Html.TextBoxFor(o => o.PFCPOLILst[p].target, new { @id = "txttarget" + p, @class = "form-control", style = "width: 120px;" })
                                                                                        </td>
                                                                                        <td>
                                                                                                    @Html.TextBoxFor(o => o.PFCPOLILst[p].capacity, new { @id = "txtcapacity" + p, @class = "form-control", style = "width: 120px;" })
                                                                                        </td>
                                                                                        <td>
                                                                                            @Html.TextBoxFor(o => o.PFCPOLILst[p].stock, new { @id = "txtstock" + p, @class = "form-control", style = "width: 120px;" })
                                                                                        </td>
                                                                                        <td>
                                                                                                    @Html.TextBoxFor(o => o.PFCPOLILst[p].minstock, new { @id = "txtminstock" + p, @class = "form-control", style = "width: 120px;" })
                                                                                        </td>
                                                                                        <td>
                                                                                            @Html.TextBoxFor(o => o.PFCPOLILst[p].required, new { @id = "txtrequired" + p, @class = "form-control", style = "width: 120px;" })
                                                                                        </td>

                                                                                        <td>
                                                                                            @Html.TextBoxFor(o => o.PFCPOLILst[p].days, new { @id = "txtdays" + p, @class = "form-control", style = "width: 120px;" })
                                                                                        </td>


                                                                                        <td>
                                                                                                    @Html.TextBoxFor(o => o.PFCPOLILst[p].additive, new { @id = "txtadditive" + p, @class = "form-control", style = "width: 120px;" })
                                                                                        </td>
                                                                                        <td>
                                                                                            @Html.TextBoxFor(o => o.PFCPOLILst[p].add, new { @id = "txtadd" + p, @class = "form-control", style = "width: 120px;" })
                                                                                        </td>
                                                                                        <td>
                                                                                            @Html.TextBoxFor(o => o.PFCPOLILst[p].rawmat, new { @id = "txtrawmat" + p, @class = "form-control", style = "width: 120px;" })
                                                                                        </td>
                                                                                        <td>
                                                                                                    @Html.TextBoxFor(o => o.PFCPOLILst[p].reqper, new { @id = "txtreqper" + p, @class = "form-control", style = "width: 120px;" })
                                                                                        </td>
                                                                                        <td>
                                                                                            @Html.TextBoxFor(o => o.PFCPOLILst[p].rvdqty, new { @id = "txtrvdqty" + p, @class = "form-control", style = "width: 120px;" })
                                                                                        </td>
                                                                                        <td>
                                                                                            @Html.TextBoxFor(o => o.PFCPOLILst[p].pyropowder, new { @id = "txtpyropowder" + p, @class = "form-control", style = "width: 120px;" })
                                                                                        </td>
                                                                                        <td>
                                                                                            @Html.TextBoxFor(o => o.PFCPOLILst[p].pyroqty, new { @id = "txtpyroqty" + p, @class = "form-control", style = "width: 120px;" })
                                                                                        </td>
                                                                                        <td>
                                                                                            @Html.TextBoxFor(o => o.PFCPOLILst[p].powderrequired, new { @id = "txtpowderrequired" + p, @class = "form-control", style = "width: 120px;" })
                                                                                        </td>

                                                                                                <td>
                                                                                                    @Html.HiddenFor(o => o.PFCPOLILst[p].Isvalid, new { @id = "Isvalid" + p })
                                                                                                    <img onclick="removeRow3(@(p));" src="../Images/delete.png" style="cursor:pointer" /> <input name="PFCPOLILst.Index" type="hidden" value="@(p)" />
                                                                                                </td>

                                                                                            </tr>
                                                                                            p = p + 1;


                                                                                        }
                                                                                    }
                                                                                    
                                                                                   
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!-- 4th tab  -->
                                                </div>
                                                <div class="tab-pane" id="tab-5">
                                                    <!-- 5th tab  -->
                                                    <div class="row">
                                                      

                                                        <div class="col-lg-12">
                                                            <div class="ibox float-e-margins">

                                                                <!-- / ibox-title -->
                                                                <div id="demo3" class="ibox-content collapse in">
                                                                    <div class="borderedTable">
                                                                        <div class="table-scrollable">
                                                                            <table class="table table-striped table-hover">
                                                                                <thead>
                                                                                    <tr>
                                                                                       
                                                                                        <th>Work Center</th>
                                                                                        <th>Wc Days</th>
                                                                                        <th>Item Name </th>
                                                                                        <th> Prod Qty</th>
                                                                                        <th> Days </th>
                                                                                        <th>  Cons </th>
                                                                                        <th> Cons Qty</th>
                                                                                        <th>Raw Mat </th>
                                                                                        <th>Qty </th>
                                                                                        <th>Mto Recovred </th>
                                                                                        <th>Mto Loss </th>
                                                                                        <th>Power Required</th>

                                                                                </thead>
                                                                                <tbody id="tbBooks4">
                                                                                      @{

                                                                   int r = 0;
                                                


                                                                 foreach (var item in Model.PFCRVDLst.ToList())
                                                                    {
                                                             <tr id="trBook4@(r)" class="chkitemlst4" style="height: 30px;border-bottom: 1px dashed #ddd;">
                                                               



                                                                                        <td>
                                                                                            @Html.DropDownListFor(o => o.PFCRVDLst[r].workid, Model.PFCRVDLst[r].POWorklst, "Please Select", new { @class = "form-control _select newcss", @id = "ddlPWorkId" + r, style = "width: 170px;"})
                                                                                                    @Html.HiddenFor(o => o.PFCRVDLst[r].saveitemid)
                                                                                        </td>
                                                                                        <td>
                                                                                                    @Html.TextBoxFor(o => o.PFCRVDLst[r].wcdays, new { @id = "txtwcdays" + r, @class = "form-control", style = "width: 120px;" })
                                                                                        </td>
                                                                                        <td>
                                                                                            @Html.TextBoxFor(o => o.PFCRVDLst[r].itemid, new { @id = "txtitemid" + r, @class = "form-control", style = "width: 120px;" })
                                                                                        </td>
                                                                                        <td>
                                                                                                    @Html.TextBoxFor(o => o.PFCRVDLst[r].prodqty, new { @id = "txtprodqty" + r, @class = "form-control", style = "width: 120px;" })
                                                                                        </td>
                                                                                        
                                                                                        <td>
                                                                                            @Html.TextBoxFor(o => o.PFCRVDLst[r].days, new { @id = "txtdays" + r, @class = "form-control", style = "width: 120px;" })
                                                                                        </td>


                                                                                        <td>
                                                                                                    @Html.TextBoxFor(o => o.PFCRVDLst[r].cons, new { @id = "txtcons" + r, @class = "form-control", style = "width: 120px;" })
                                                                                        </td>
                                                                                        <td>
                                                                                            @Html.TextBoxFor(o => o.PFCRVDLst[r].consqty, new { @id = "txtconsqty" + r, @class = "form-control", style = "width: 120px;" })
                                                                                        </td>
                                                                                        <td>
                                                                                            @Html.TextBoxFor(o => o.PFCRVDLst[r].rawmat, new { @id = "txtrawmat" + r, @class = "form-control", style = "width: 120px;" })
                                                                                        </td>
                                                                                        <td>
                                                                                                    @Html.TextBoxFor(o => o.PFCRVDLst[r].qty, new { @id = "txtqty" + r, @class = "form-control", style = "width: 120px;" })
                                                                                        </td>
                                                                                        <td>
                                                                                            @Html.TextBoxFor(o => o.PFCRVDLst[r].mto, new { @id = "txtmto" + r, @class = "form-control", style = "width: 120px;" })
                                                                                        </td>
                                                                                        <td>
                                                                                            @Html.TextBoxFor(o => o.PFCRVDLst[r].mtoloss, new { @id = "txtmtoloss" + r, @class = "form-control", style = "width: 120px;" })
                                                                                        </td>
                                                                                        
                                                                                        <td>
                                                                                            @Html.TextBoxFor(o => o.PFCRVDLst[r].powderrequired, new { @id = "txtpowderrequired" + r, @class = "form-control", style = "width: 120px;" })
                                                                                        </td>

                                                                                                <td>
                                                                                                    @Html.HiddenFor(o => o.PFCRVDLst[r].Isvalid, new { @id = "Isvalid" + r })
                                                                                                    <img onclick="removeRow4(@(r));" src="../Images/delete.png" style="cursor:pointer" /> <input name="PFCRVDLst.Index" type="hidden" value="@(r)" />
                                                                                                </td>

                                                                                            </tr>
                                                                                            r = r + 1;


                                                                                        }
                                                                                    }
                                                                                    
                                                                                   
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!-- 5th tab  -->
                                                </div>
                                                <div class="tab-pane" id="tab-6">
                                                    <!-- 6th tab  -->
                                                    <div class="row">
                                                     

                                                        <div class="col-lg-12">
                                                            <div class="ibox float-e-margins">

                                                                <!-- / ibox-title -->
                                                                <div id="demo3" class="ibox-content collapse in">
                                                                    <div class="borderedTable">
                                                                        <div class="table-scrollable">
                                                                            <table class="table table-striped table-hover">
                                                                                <thead>
                                                                                    <tr>
                                                                                        
                                                                                        <th>WCID</th>
                                                                                        <th>Cum Days </th>
                                                                                        <th> Item ID</th>
                                                                                        <th> Charges/Days </th>
                                                                                        <th>Target  </th>
                                                                                        <th> Stock </th>
                                                                                        <th>Min Stk  </th>
                                                                                        <th> Required </th>
                                                                                        <th> Prod.Days </th>
                                                                                        <th> Production </th>
                                                                                        <th> Ap Powder </th>
                                                                                        <th> Balance </th>
                                                                                        <th> Additive </th>
                                                                                        <th> Alloc Addit </th>
                                                                                        <th> TO Prod(kg) </th>
                                                                                        <th> Rvd Loss </th>
                                                                                        <th> TO Loss(kg) </th>
                                                                                        <th> to In Coarse(kg) </th>
                                                                                        <th> Mixing MTO </th>
                                                                                        <th> TO Req(Ltd) </th>
                                                                                        <th> Additive Cost </th>
                                                                                        <th> Mto Cost </th>
                                                                                        <th> Power Required </th>
                                                                                    </tr>
                                                                                </thead>
                                                                               <tbody id="tbBooks5">
                                                                                      @{

                                                int t = 0;
                                                


                                                foreach (var item in Model.PFCPASTELst.ToList())
                                                {
                                                             <tr id="trBook5@(t)" class="chkitemlst5" style="height: 30px;border-bottom: 1px dashed #ddd;">
                                                               
                                                              
                                                                 <td>
                                                                   @Html.DropDownListFor(o => o.PFCPASTELst[t].WorkId, Model.PFCPASTELst[t].Worklst, "Please Select", new { @class = "form-control _select newcss", @id = "ddlWorkId" + t, style = "width: 170px;"})
                                                                   @Html.HiddenFor(o => o.PFCPASTELst[t].saveitemid)
                                                                </td>
                                                                 <td>
                                                                  @Html.TextBoxFor(o => o.PFCPASTELst[t].CDays, new { @id = "txtCDays" + t, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                                  <td>
                                                           @Html.TextBoxFor(o => o.PFCPASTELst[t].itemid, new { @id = "txtItemId" + t, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                                                                <td>
                                                                                                    @Html.TextBoxFor(o => o.PFCPASTELst[t].charge, new { @id = "txtcharge" + t, @class = "form-control", style = "width: 120px;" })
                                                                                                </td>
                                                                                                <td>
                                                                                                    @Html.TextBoxFor(o => o.PFCPASTELst[t].target, new { @id = "txttarget" + t, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                                                                <td>
                                                                                                    @Html.TextBoxFor(o => o.PFCPASTELst[t].stock, new { @id = "txtstock" + t, @class = "form-control", style = "width: 120px;" })
                                                                                                </td>
                                                                                                 <td>
                                                                                                    @Html.TextBoxFor(o => o.PFCPASTELst[t].minstock, new { @id = "txtminstock" + t, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                                 <td>
                                                                 @Html.TextBoxFor(o => o.PFCPASTELst[t].required, new { @id = "txtrequired" + t, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                                
                                                             
                                                                <td>
                                                                 @Html.TextBoxFor(o => o.PFCPASTELst[t].proddays, new { @id = "txtproddays" + t, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                               
                                                              
                                                                <td>
                                                                 @Html.TextBoxFor(o => o.PFCPASTELst[t].production, new { @id = "txtproduction" + t, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                                <td>
                                                                                                    @Html.TextBoxFor(o => o.PFCPASTELst[t].appowder, new { @id = "txtappowder" + t, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                                <td>
                                                                 @Html.TextBoxFor(o => o.PFCPASTELst[t].balance, new { @id = "txtbalance" + t, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                                <td>
                                                                 @Html.TextBoxFor(o => o.PFCPASTELst[t].additive, new { @id = "txtadditive" + t, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                                <td>
                                                                 @Html.TextBoxFor(o => o.PFCPASTELst[t].allocadditive, new { @id = "txtallocadditive" + t, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                                <td>
                                                                 @Html.TextBoxFor(o => o.PFCPASTELst[t].toprod, new { @id = "txttoprod" + t, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                                <td>
                                                                 @Html.TextBoxFor(o => o.PFCPASTELst[t].rvdloss, new { @id = "txtrvdloss" + t, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                                <td>
                                                                 @Html.TextBoxFor(o => o.PFCPASTELst[t].toloss, new { @id = "txttoloss" + t, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                                <td>
                                                                 @Html.TextBoxFor(o => o.PFCPASTELst[t].coarse, new { @id = "txtcoarse" + t, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                                <td>
                                                                 @Html.TextBoxFor(o => o.PFCPASTELst[t].missmto, new { @id = "txtmissmto" + t, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                                <td>
                                                                                                    @Html.TextBoxFor(o => o.PFCPASTELst[t].toreq, new { @id = "txttoreq" + t, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                                 <td>
                                                                 @Html.TextBoxFor(o => o.PFCPASTELst[t].addcost, new { @id = "txtaddcost" + t, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                                <td>
                                                                 @Html.TextBoxFor(o => o.PFCPASTELst[t].mtocost, new { @id = "txtmtocost" + t, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                                <td>
                                                                                                    @Html.TextBoxFor(o => o.PFCPASTELst[t].powerrequired, new { @id = "txtpowerrequired" + t, @class = "form-control", style = "width: 120px;" })
                                                                </td>

                                                                 <td>
                                                                                                    @Html.HiddenFor(o => o.PFCPASTELst[t].Isvalid, new { @id = "Isvalid" + t })
                                                                   <img onclick="removeRow5(@(t));" src="../Images/delete.png" style="cursor:pointer" /> <input name="PFCPASTELst.Index" type="hidden" value="@(t)" />
                                                                 </td>

                                                            </tr>
                                                    t = t + 1;
                                                    

                                                }
                                            }



                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!-- 6th tab  -->
                                                </div>
                                                <div class="tab-pane" id="tab-7">
                                                    <!-- 7th tab  -->
                                                    <div class="row">
                                                      

                                                        <div class="row">
                                                            <div class="col-md-6">
                                                                <div class="form-group">

                                                                    <br /><br />  <label for="inputName3" class="col-sm-4 control-label">Req APS Powder<label class="Mandatory"></label></label>
                                                                    <div class="col-sm-8">
                                                                            @Html.TextBoxFor(C => C.apspowder, new { @id = "apspowder", @class = "form-control", @TabIndex = 2 })<br />
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-6">
                                                                <div class="form-group">


                                                                    <label for="inputName3" class="col-sm-4 control-label">Required Qty<label class="Mandatory"></label></label>
                                                                    <div class="col-sm-8">
                                                                         @Html.TextBoxFor(C => C.reqqty, new { @id = "reqqty", @class = "form-control", @TabIndex = 2 })<br />

                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-6">
                                                                <div class="form-group">

                                                                    <label for="inputName3" class="col-sm-4 control-label">Available Stock<label class="Mandatory"></label></label>
                                                                    <div class="col-sm-8">

                                                                        @Html.TextBoxFor(C => C.avlstk, new { @id = "avlstk", @class = "form-control", @TabIndex = 2 })<br />
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-6">
                                                                <div class="form-group">

                                                                    <label for="inputName3" class="col-sm-4 control-label">Minimum Stock<label class="Mandatory"></label></label>
                                                                    <div class="col-sm-8">

                                                                         @Html.TextBoxFor(C => C.ministk, new { @id = "ministk", @class = "form-control", @TabIndex = 2 })<br />
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-6">
                                                                <div class="form-group">

                                                                    <label for="inputName3" class="col-sm-4 control-label">Required AP Powder<label class="Mandatory"></label></label>
                                                                    <div class="col-sm-8">
                                                                        @Html.TextBoxFor(C => C.reqappowder, new { @id = "reqappowder", @class = "form-control", @TabIndex = 2 })<br />

                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!-- 7th tab  -->
                                                </div>
                                                <div class="tab-pane" id="tab-8">
                                                    <!-- 8th tab  -->
                                                    <div class="row">
                                                      

                                                        <div class="row">
                                                            <div class="col-md-6">
                                                                <div class="form-group">

                                                                    <br /><br />  <label for="inputName3" class="col-sm-4 control-label">AP for Pyro<label class="Mandatory"></label></label>
                                                                    <div class="col-sm-8">
                                                                                                                                               @Html.TextBoxFor(C => C.appyro, new { @id = "appyro", @class = "form-control", @TabIndex = 2 })<br />

                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-6">
                                                                <div class="form-group">


                                                                    <label for="inputName3" class="col-sm-4 control-label">AP for Paste<label class="Mandatory"></label></label>
                                                                    <div class="col-sm-8">
                                                                                                                                               @Html.TextBoxFor(C => C.appaste, new { @id = "appaste", @class = "form-control", @TabIndex = 2 })<br />


                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-6">
                                                                <div class="form-group">

                                                                    <label for="inputName3" class="col-sm-4 control-label">AP for FG-APS<label class="Mandatory"></label></label>
                                                                    <div class="col-sm-8">

                                                                        @Html.TextBoxFor(C => C.apfg, new { @id = "apfg", @class = "form-control", @TabIndex = 2 })<br />
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-6">
                                                                <div class="form-group">

                                                                    <label for="inputName3" class="col-sm-4 control-label">Req AP Powder<label class="Mandatory"></label></label>
                                                                    <div class="col-sm-8">

                                                                        @Html.TextBoxFor(C => C.reqappow, new { @id = "reqappow", @class = "form-control", @TabIndex = 2 })<br />
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-6">
                                                                <div class="form-group">

                                                                    <label for="inputName3" class="col-sm-4 control-label">APS Minimum Stock<label class="Mandatory"></label></label>
                                                                    <div class="col-sm-8">
                                                                        @Html.TextBoxFor(C => C.apsministk, new { @id = "apsministk", @class = "form-control", @TabIndex = 2 })<br />

                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-6">
                                                                <div class="form-group">

                                                                    <label for="inputName3" class="col-sm-4 control-label">APS Stock<label class="Mandatory"></label></label>
                                                                    <div class="col-sm-8">
                                                                        @Html.TextBoxFor(C => C.apstk, new { @id = "apstk", @class = "form-control", @TabIndex = 2 })<br />

                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-6">
                                                                <div class="form-group">

                                                                    <label for="inputName3" class="col-sm-4 control-label">Coarse Melting<label class="Mandatory"></label></label>
                                                                    <div class="col-sm-8">
                                                                        @Html.TextBoxFor(C => C.coarse, new { @id = "coarse", @class = "form-control", @TabIndex = 2 })<br />

                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-6">
                                                                <div class="form-group">

                                                                    <label for="inputName3" class="col-sm-4 control-label">Powder Requirement<label class="Mandatory"></label></label>
                                                                    <div class="col-sm-8">
                                                                        @Html.TextBoxFor(C => C.power, new { @id = "power", @class = "form-control", @TabIndex = 2 })<br />

                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!-- 8th tab  -->
                                                </div>
                                                <div class="tab-pane" id="tab-9">
                                                    <!-- 9th tab  -->
                                                    <div class="row">
                                                      

                                                        <div class="col-lg-12">
                                                            <div class="ibox float-e-margins">

                                                                <!-- / ibox-title -->
                                                                <div id="demo3" class="ibox-content collapse in">
                                                                    <div class="borderedTable">
                                                                        <div class="table-scrollable">
                                                                            <table class="table table-striped table-hover">
                                                                                <thead>
                                                                                    <tr>
                                                                                        
                                                                                        <th>Work Center</th>
                                                                                        <th>Wc.Days</th>
                                                                                        <th>Capacity/Day </th>
                                                                                        <th> Production Target </th>
                                                                                        <th>Prod.Days </th>
                                                                                        <th>Production </th>
                                                                                        <th>Fuel Req. </th>
                                                                                        <th>Ingots Required</th>
                                                                                        <th>Power Required</th>

                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody id="tbBooks6">
                                                                                      @{

                                                int z = 0;
                                                


                                                foreach (var item in Model.PFCAPPRODLst.ToList())
                                                {
                                                             <tr id="trBook6@(z)" class="chkitemlst6" style="height: 30px;border-bottom: 1px dashed #ddd;">
                                                               
                                                              
                                                                 <td>
                                                                   @Html.DropDownListFor(o => o.PFCAPPRODLst[z].WorkId, Model.PFCAPPRODLst[z].Worklst, "Please Select", new { @class = "form-control _select newcss", @id = "ddlWorkId" + z, style = "width: 170px;"})
                                                                   @Html.HiddenFor(o => o.PFCAPPRODLst[z].saveItemId)
                                                                </td>
                                                                 <td>
                                                                                                    @Html.TextBoxFor(o => o.PFCAPPRODLst[z].wdays, new { @id = "txtwdays" + z, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                                  <td>
                                                                  @Html.TextBoxFor(o => o.PFCAPPRODLst[z].capacity, new { @id = "txtcapacity" + z, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                                                             
                                                                 <td>
                                                                  @Html.TextBoxFor(o => o.PFCAPPRODLst[z].target, new { @id = "txttarget" + z, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                                
                                                             
                                                                <td>
                                                                  @Html.TextBoxFor(o => o.PFCAPPRODLst[z].proddays, new { @id = "txtproddays" + z, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                               
                                                              
                                                                <td>
                                                                  @Html.TextBoxFor(o => o.PFCAPPRODLst[z].production, new { @id = "txtproduction" + z, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                                <td>
                                                                  @Html.TextBoxFor(o => o.PFCAPPRODLst[z].fuelreq, new { @id = "txtfuelreq" + z, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                                <td>
                                                                  @Html.TextBoxFor(o => o.PFCAPPRODLst[z].ingotreq, new { @id = "txtingotreq" + z, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                                <td>
                                                                  @Html.TextBoxFor(o => o.PFCAPPRODLst[z].powerrequired, new { @id = "txtpowerrequired" + z, @class = "form-control", style = "width: 120px;" })
                                                                </td>
                                                               
                                                                 <td>
                                                                                                    @Html.HiddenFor(o => o.PFCAPPRODLst[z].Isvalid, new { @id = "Isvalid" + z })
                                                                   <img onclick="removeRow6(@(z));" src="../Images/delete.png" style="cursor:pointer" /> <input name="PFCAPPRODLst.Index" type="hidden" value="@(z)" />
                                                                 </td>

                                                            </tr>
                                                    z = z + 1;
                                                    

                                                }
                                            }



                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!-- 9th tab  -->
                                                </div>
                                                <div class="tab-pane" id="tab-10">
                                                    <!-- 10th tab  -->
                                                    <div class="row">
                                                     

                                                        <div class="col-lg-12">
                                                            <div class="ibox float-e-margins">

                                                                <!-- / ibox-title -->
                                                                <div id="demo3" class="ibox-content collapse in">
                                                                    <div class="borderedTable">
                                                                        <div class="table-scrollable">
                                                                             <div class="scroll">
                                                                            <table class="table table-striped table-hover">
                                                                                <thead>
                                                                                    <tr>
                                                                                       
                                                                                        <th>Party ID</th>
                                                                                        <th>Target Item</th>
                                                                                        <th>TarQty</th>
                                                                                        <th> Raw Material </th>
                                                                                        <th>Packing Material </th>
                                                                                        <th>Packing Qty </th>
                                                                                        <th>Req Mat </th>

                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody id="tbBooks7">
                                                                                    @{

                                                                                        int g = 0;



                                                                                        foreach (var item in Model.PFCPACKLst.ToList())
                                                                                        {
                                                                                            <tr id="trBook7@(g)" class="chkitemlst7" style="height: 30px;border-bottom: 1px dashed #ddd;">


                                                                                                <td>
                                                                                                    @Html.DropDownListFor(o => o.PFCPACKLst[g].party, Model.PFCPACKLst[g].partylst, "Please Select", new { @class = "form-control _select newcss", @id = "ddlparty" + z, style = "width: 170px;"})
                                                                                                    @Html.HiddenFor(o => o.PFCPACKLst[g].saveitemid)
                                                                                                </td>
                                                                                                <td>
                                                                                                    @Html.TextBoxFor(o => o.PFCPACKLst[g].targetitem, new { @id = "targetitem" + g, @class = "form-control", style = "width: 120px;" })
                                                                                                </td>
                                                                                                <td>
                                                                                                    @Html.TextBoxFor(o => o.PFCPACKLst[g].targetqty, new { @id = "targetqty" + g, @class = "form-control", style = "width: 120px;" })
                                                                                                </td>

                                                                                                <td>
                                                                                                    @Html.TextBoxFor(o => o.PFCPACKLst[g].rawmat, new { @id = "rawmat" + g, @class = "form-control", style = "width: 120px;" })
                                                                                                </td>


                                                                                                <td>
                                                                                                    @Html.TextBoxFor(o => o.PFCPACKLst[g].packmat, new { @id = "packmat" + g, @class = "form-control", style = "width: 120px;" })
                                                                                                </td>


                                                                                                <td>
                                                                                                    @Html.TextBoxFor(o => o.PFCPACKLst[g].packqty, new { @id = "packqty" + g, @class = "form-control", style = "width: 120px;" })
                                                                                                </td>
                                                                                                <td>
                                                                                                    @Html.TextBoxFor(o => o.PFCPACKLst[g].reqmat, new { @id = "reqmat" + g, @class = "form-control", style = "width: 120px;" })
                                                                                                </td>
                                                                                               

                                                                                                <td>
                                                                                                    @Html.HiddenFor(o => o.PFCPACKLst[g].Isvalid, new { @id = "Isvalid" + g })
                                                                                                    <img onclick="removeRow7(@(g));" src="../Images/delete.png" style="cursor:pointer" /> <input name="PFCPACKLst.Index" type="hidden" value="@(g)" />
                                                                                                </td>

                                                                                            </tr>
                                                                                            z = z + 1;


                                                                                        }
                                                                                    }



                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!-- 10th tab  -->
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                   @* <div class="col-md-7">
                                        <div class="form-group">
                                            <br />   <label for="inputName3" class="col-sm-4 control-label">Enterd By<label class="Mandatory"></label></label>
                                            <div class="col-sm-8">
                                                @Html.DropDownListFor(C => C.Enterd , Model.RecList," -- Please Select -- ", new { @id = "ddlEnterd ", @Class = "form-control _select", @TabIndex = 1 })<br />

                                            </div>
                                        </div>
                                    </div>

                                </div>*@
                                <div style="height:30px;"></div>
                                <div class="col-lg-10"></div>
                                <button type="submit" class="btn aqua m-t-xs bottom15-xs">Submit</button>
                                <button class="btn btn-danger" type="submit">Cancel</button><br />

                            </form>
                        }
                    </div>

                </div>

            </div>

        </div>

    </div>

</div>
<script>
    $(function () {
        $('._select').select2();
    });
    function PopulateDropDown(dropDownId, list) {
        //alert(list);
        $(dropDownId).empty().append('<option selected="selected" value="0">Please select</option>');
        if (list != null && list.length > 0) {
            $(dropDownId).removeAttr("disabled");
            $.each(list, function () {
                $(dropDownId).append($("<option></option>").val(this['value']).html(this['text']));
            });
        }
        $(dropDownId).trigger("liszt:updated");
    }
    $('.form_date').datetimepicker({
        weekStart: 1,
        todayBtn: 1,
        autoclose: 1,
        todayHighlight: 1,
        startView: 2,
        minView: 2,
        forceParse: 0
    });
   function changemnth(mnth){
        $('._select').select2();
        var type = document.getElementById("txtplantype").value;
        document.getElementById("tbBooks1").innerHTML = "";
       // document.getElementById("tbBooks2").innerHTML = "";
        document.getElementById("tbBooks3").innerHTML = "";
        document.getElementById("tbBooks4").innerHTML = "";
        document.getElementById("tbBooks5").innerHTML = "";
        document.getElementById("tbBooks6").innerHTML = "";
        document.getElementById("tbBooks7").innerHTML = "";

        var opt = "";
        var poopt= "";
        var rvdopt="";
        var pasteopt="";
        var par="";

        $.ajax({
            type: "POST",
            url: 'GetWCJSON',
            success: function (data) {
                $.each(data, function () {
                    opt += "<option value=" + this.value + ">" + this.text + "</option>";

                });

            }
        })
        $.ajax({
            type: "POST",
            url: 'GetPolishJSON',
            success: function (data) {
                $.each(data, function () {
                    poopt += "<option value=" + this.value + ">" + this.text + "</option>";

                });

            }
        })
       // alert(poopt);
        $.ajax({
            type: "POST",
            url: 'GetRVDJSON',
            success: function (data) {
                $.each(data, function () {
                    rvdopt += "<option value=" + this.value + ">" + this.text + "</option>";

                });

            }
        })

        $.ajax({
            type: "POST",
            url: 'GetPasteJSON',
            success: function (data) {
                $.each(data, function () {
                    pasteopt += "<option value=" + this.value + ">" + this.text + "</option>";

                });
            }
        })

        $.ajax({
            url: 'GetDGPaste',
            type: "post",
            data: { "mnth": mnth, "type": type },
            cache: false,

            success: function (list) {
                list.forEach((item) => {

                    var index = $("#tbBooks1").children("tr").length;

                    var ItemId = "<td><label>" + item.itemid + "</label><input name='PFCDGILst[" + index + "].saveitemid' type='hidden'  value=" + item.saveitemid + "></td>";

                    var Target = "<td><input class='form-control' id='txtTarget" + index + "' name='PFCDGILst[" + index + "].target'  style='width: 100px;' type='text'  readonly='True'  value=" + item.target + " /><input type='hidden' value=" + item.target + " id='txtTarget" + index + "' name='PFCDGILst[" + index + "].target'></td>";

                    var Min = "<td><input class='form-control' id='txtMin" + index + "' name='PFCDGILst[" + index + "].min'  style='width: 100px;' type='text' readonly='True' value=" + item.min + "   /><input class='form-control' id='txtqty" + index + "' name='PFCDGILst[" + index + "].min'  style='width: 80px;' type='hidden' readonly='True' value=" + item.min + "  /></td>";

                    var Stock = "<td><input class='form-control' id='txtStock" + index + "' name='PFCDGILst[" + index + "].stock'  style='width: 100px;' type='text' readonly='True'  value=" + item.stock + " /><input class='form-control' id='txtStock" + index + "' name='PFCDGILst[" + index + "].stock'  style='width: 60px;' type='hidden' readonly='True'  value=" + item.stock + " /></td>";

                    var Required = "<td><input class='form-control' id='txtRequired" + index + "' name='PFCDGILst[" + index + "].required'  style='width: 100px;' type='text' readonly='True'  value=" + item.required + " /><input class='form-control' id='txtRequired" + index + "' name='PFCDGILst[" + index + "].required'  style='width: 60px;' type='hidden' readonly='True'  value=" + item.required + " /></td>";

                    var dgaddit = "<td><label>" + item.dgaddit + "</label><input class='form-control' id='txtDgAdditID" + index + "' name='PFCDGILst[" + index + "].dgadditid'  style='width: 60px;' type='hidden' readonly='True'  value=" + item.dgadditid + " /></td>";

                    var reqadditive = "<td><input class='form-control' id='txtReqAdditive" + index + "' name='PFCDGILst[" + index + "].reqadditive'  style='width: 100px;' type='text' readonly='True'  value=" + item.reqadditive + " /><input class='form-control' id='txtReqAdditive" + index + "' name='PFCDGILst[" + index + "].reqadditive'  style='width: 60px;' type='hidden' readonly='True'  value=" + item.reqadditive + " /></td>";

                    var rawmaterial = "<td><label>" + item.rawmaterial + "</label><input class='form-control' id='txtRawMaterial" + index + "' name='PFCDGILst[" + index + "].rawmaterialid'  style='width: 100px;' type='hidden' readonly='True'  value=" + item.rawmaterialid + " /></td>";
                    var ReqPyro = "<td><input class='form-control' id='txtreqpyro" + index + "' name='PFCDGILst[" + index + "].reqpyro'  style='width: 100px;' type='text' readonly='True'  value=" + item.reqpyro + " /></td>";


                    var newRow = "<tr class='chkitemlst1'  style='height: 30px;border-bottom: 1px dashed #ddd;'  id='trBook1" + index + "'>" + ItemId + Target + Min + Stock + Required + dgaddit + reqadditive + rawmaterial  + ReqPyro + "</tr>";

                    

                $("#tbBooks1").append(newRow);
            });
    },
  
            });

            var index=0;
            //var pyroind=0;
       var headg="";
        $.ajax({
            url: 'GetPyroForecast',
            type: "post",
            data: { "mnth": mnth, "type": type },
            cache: false,

            success: function (list) {
                list.forEach((item) => {
                      $('._select').select2();
                   // var index = $("#tbBooks2").children("tr").length;
                   
                    var addrow = "<td><a href='#' class='icon fa fa-plus-circle' aria-hidden='true' onclick='addpyrorow(" + index + "," + item.saveitemid + ")' ></a></td>";
                    var WC = "<td><select style = 'width: 200px;' class='form-control _select newcss' id='ddlWorkId" + index + "' name='PFCPYROILst[" + index + "].WorkId' onchange='pyrowcchange(" + index + ",this.value)'  ><option value=''>-- Please select -- </option>" + opt + "</select></td>";

                    var pend = "<td><input class='form-control' id='txtCDays" + index + "' name='PFCPYROILst[" + index + "].CDays'  style='width: 100px;' type='text'    /></td>";

                    var ItemId = "<td><label style='width: 120px;' id='txtItemname" + index + "'>" + item.itemid + "</label><input id='txtItemId" + index + "' name='PFCPYROILst[" + index + "].saveitemid' type='hidden'  value=" + item.saveitemid + "></td>";

                    var Target = "<td><input class='form-control' id='txtspyroTarget" + index + "' name='PFCPYROILst[" + index + "].target'  style='width: 100px;' type='text'  readonly='True'  value=" + item.target + " /><input type='hidden' value=" + item.target + " id='txtpyroTarget" + index + "' name='PFCPYROILst[" + index + "].target'></td>";

                    var Min = "<td><input class='form-control' id='txtspyroMinStock" + index + "' name='PFCPYROILst[" + index + "].minstock'  style='width: 100px;' type='text' readonly='True' value=" + item.minstock + "   /><input class='form-control' id='txtpyroMinStock" + index + "' name='PFCPYROILst[" + index + "].minstock'  style='width: 80px;' type='hidden' readonly='True' value=" + item.minstock + "  /></td>";

                    var Stock = "<td><input class='form-control' id='txtspyroStock" + index + "' name='PFCPYROILst[" + index + "].stock'  style='width: 100px;' type='text' readonly='True'  value=" + item.stock + " /><input class='form-control' id='txtpyroStock" + index + "' name='PFCPYROILst[" + index + "].stock'  style='width: 60px;' type='hidden' readonly='True'  value=" + item.stock + " /></td>";

                    var Required = "<td><input class='form-control' id='txtspyroRequired" + index + "' name='PFCPYROILst[" + index + "].required'  style='width: 100px;' type='text' readonly='True'  value=" + item.required + " /><input id='txtpyroRequired" + index + "' name='PFCPYROILst[" + index + "].required'   type='hidden'   value=" + item.required + " /></td>";
                    var PasteRej = "<td><input class='form-control' id='txtspasterej" + index + "' name='PFCPYROILst[" + index + "].pasterej'  style='width: 100px;' type='text' value=" + item.pasterej + " readonly='True' ><input id='txtpasterej" + index + "' name='PFCPYROILst[" + index + "].pasterej'   type='hidden'   value=" + item.pasterej + " /></td>";
                    var RejQty = "<td><input class='form-control' id='txtsrejqty" + index + "' name='PFCPYROILst[" + index + "].rejqty'  style='width: 100px;' type='text' value=" + item.rejqty + " readonly='True'  ><input id='txtrejqty" + index + "' name='PFCPYROILst[" + index + "].rejqty'   type='hidden'   value=" + item.rejqty + " /></td>";
                    var targethrs = "<td><input class='form-control' id='txtstargethrs" + index + "' name='PFCPYROILst[" + index + "].targethrs'  style='width: 100px;' type='text'  readonly='True' /><input id='txttargethrs" + index + "' name='PFCPYROILst[" + index + "].targethrs'   type='hidden' /></td>";
                    var ProdDays = "<td><input class='form-control' id='txtproddays" + index + "' name='PFCPYROILst[" + index + "].proddays'  style='width: 100px;' type='text' onkeyup = 'changepyrodays(this," + index + ")' /></td>";
                    var ProdQty = "<td><input class='form-control' id='txtsprodqty" + index + "' name='PFCPYROILst[" + index + "].prodqty'  style='width: 100px;' type='text'  readonly='True' /><input id='txtprodqty" + index + "' name='PFCPYROILst[" + index + "].prodqty'   type='hidden' /></td>";
                        var RejMat = "<td><input class='form-control' id='txtsrejmat" + index + "' name='PFCPYROILst[" + index + "].rejmat'  style='width: 100px;' type='text' readonly='True' value=" + item.rejmat + " /><input id='txtrejmat" + index + "' name='PFCPYROILst[" + index + "].rejmat'   type='hidden' value=" + item.rejmat + " /></td>";
                    var RejMatReq = "<td><input class='form-control' id='txtsrejmatreq" + index + "' name='PFCPYROILst[" + index + "].rejmatreq'  style='width: 100px;' type='text' readonly='True' /><input id='txtrejmatreq" + index + "' name='PFCPYROILst[" + index + "].rejmatreq'   type='hidden' /></td>";
                    var BalanceQty = "<td><input class='form-control' id='txtsbalanceqty" + index + "' name='PFCPYROILst[" + index + "].balanceqty'  style='width: 100px;' type='text' value=" + item.balanceqty + " readonly='True' /><input id='txtbalanceqty" + index + "' name='PFCPYROILst[" + index + "].balanceqty'   type='hidden'   value=" + item.balanceqty + " /></td>";
                    var Additive = "<td><label style='width: 120px;' id='txtAdditive" + index + "' >" + item.additive + "</label><input class='form-control' id='txtAdditiveID" + index + "' name='PFCPYROILst[" + index + "].additiveid'  style='width: 120px;' type='hidden' value=" + item.additiveid + " /></td>";
                    var Per = "<td><input class='form-control' id='txtsPer" + index + "' name='PFCPYROILst[" + index + "].per'  style='width: 60px;' type='text' value=" + item.per + " readonly='True' ><input id='txtPer" + index + "' name='PFCPYROILst[" + index + "].per'   type='hidden'   value=" + item.per + " /></td>";
                    var AllocAdditive = "<td><input class='form-control' id='txtsallocadditive" + index + "' name='PFCPYROILst[" + index + "].allocadditive'  style='width: 100px;' type='text' readonly='True'/><input id='txtallocadditive" + index + "' name='PFCPYROILst[" + index + "].allocadditive'   type='hidden'    /></td>";
                    var ReqPowder = "<td><input class='form-control' id='txtsreqpowder" + index + "' name='PFCPYROILst[" + index + "].reqpowder'  style='width: 100px;' type='text' readonly='True' /><input id='txtreqpowder" + index + "' name='PFCPYROILst[" + index + "].reqpowder'   type='hidden'    /></td>";
                    var WStatus = "<td><input class='form-control' id='txtwstatus" + index + "' name='PFCPYROILst[" + index + "].wstatus'  style='width: 120px;' type='text' value=" + item.wstatus + " readonly='True' /></td>";
                    var PowderRequired = "<td><input class='form-control' id='txtspyropowerreq" + index + "' name='PFCPYROILst[" + index + "].powderrequired'  style='width: 100px;' type='text' readonly='True' /><input id='txtpyropowerreq" + index + "' name='PFCPYROILst[" + index + "].powderrequired'   type='hidden'    /><input id='IsPyrovalid" + index + "' name='PFCPYROILst[" + index + "].Isvalid'   type='hidden'   /></td>";
                  if(index==0){
                        headg=" <thead><tr><th></th><th >Work Center</th> <th>Cum Days</th><th>Sales Tar </th><th> Prod Item </th> <th> Min Stock </th> <th> Stock </th> <th> Past Rej %</th><th>Rej Qty </th><th>Required </th><th>Target(22Hrs)</th><th>Prod Days </th><th>Prod Qty </th><th>Rej Mat % </th><th>Rej Mat Req </th><th>Balance Qty </th><th>Additive 1 </th><th>Per </th><th>Alloc Additive </th><th>Req Ap Powder </th><th>WC Status </th><th>Power Required </th></tr></thead>";
                                                                                        
                    }
                    else{
                        headg="";
                    }
                                                                                     
                                                                              

                     var newRow = "<table class='table table-striped table-hover' id='pyrosub_"+ index +"'>"+ headg +"<tbody id='tbBooks2sub_"+ index +"'><tr class='chkitemlst2'  style='height: 30px;border-bottom: 1px dashed #ddd;'  id='trBookpyro" + index + "'>" + addrow + WC + pend + Target + ItemId +  Min + Stock +  PasteRej + RejQty + Required + targethrs + ProdDays + ProdQty + RejMat + RejMatReq + BalanceQty + Additive + Per + AllocAdditive + ReqPowder + WStatus + PowderRequired + "</tr>  </tbody></table>";

                     index=eval(index) + 1;
                   
                    $("#newtable").append(newRow);
                });
               document.getElementById("hdpyrocunt").value = index;
            },

        });

         $.ajax({
            url: 'GetPolishForecast',
            type: "post",
            data: { "mnth": mnth, "type": type },
            cache: false,

            success: function (list) {
                list.forEach((item) => {

                    var index = $("#tbBooks3").children("tr").length;

                    var Work = "<td><select style = 'width: 200px;' class='form-control _select newcss' id='ddlpolishWorkId" + index + "' name='PFCPOLILst[" + index + "].workid' onchange='polishwcchange(" + index + ",this.value)' ><option value=''>-- Please select -- </option>" + poopt + "</select></td>";

                    var WCDays = "<td><input class='form-control' id='txtpolishwcdays" + index + "' name='PFCPOLILst[" + index + "].wcdays'  style='width: 100px;' type='text'    /></td>";

                    var ItemId = "<td><label style='width: 120px;'>" + item.itemid + "</label><input id='txtpolishItemId" + index + "' name='PFCPOLILst[" + index + "].saveitemid' type='hidden'  value=" + item.saveitemid + "></td>";

                    var Target = "<td><input class='form-control' id='txtpolishtarget" + index + "' name='PFCPOLILst[" + index + "].target'  style='width: 100px;' type='text'  readonly='True'  value=" + item.target + " /><input type='hidden' value=" + item.target + " id='hdpolishtarget" + index + "' name='PFCPOLILst[" + index + "].target'></td>";

                    var Capacity = "<td><input class='form-control' id='txtpolishcapacity" + index + "' name='PFCPOLILst[" + index + "].capacity'  style='width: 100px;' type='text' readonly='True'    /><input class='form-control' id='hdpolishcapacity" + index + "' name='PFCPOLILst[" + index + "].capacity'  type='hidden' readonly='True'  /></td>";
                    var Stock = "<td><input class='form-control' id='txtpolishstock" + index + "' name='PFCPOLILst[" + index + "].stock'  style='width: 100px;' type='text' readonly='True'  value=" + item.stock + " /><input class='form-control' id='hdpolishstock" + index + "' name='PFCPOLILst[" + index + "].stock'  type='hidden' value=" + item.stock + " /></td>";

                    var Min = "<td><input class='form-control' id='txtpolishminstock" + index + "' name='PFCPOLILst[" + index + "].minstock'  style='width: 100px;' type='text' readonly='True' value=" + item.minstock + "   /><input class='form-control' id='hdpolishminstock" + index + "' name='PFCPOLILst[" + index + "].minstock' type='hidden' value=" + item.minstock + "  /></td>";


                    var Required = "<td><input class='form-control' id='txtpolishrequired" + index + "' name='PFCPOLILst[" + index + "].required'  style='width: 100px;' type='text' readonly='True'  value=" + item.required + " /><input class='form-control' id='hdpolishrequired" + index + "' name='PFCPOLILst[" + index + "].required'  type='hidden'  value=" + item.required + " /></td>";
                    var Days = "<td><input class='form-control' id='txtpolishdays" + index + "' name='PFCPOLILst[" + index + "].days'  style='width: 120px;' type='text' /><input class='form-control' id='hdpolishdays" + index + "' name='PFCPOLILst[" + index + "].days'  type='hidden'  /></td>";
                    var Additive = "<td><label style='width: 120px;'>" + item.additive + "</label><input class='form-control' id='hdpolishadditive" + index + "' name='PFCPOLILst[" + index + "].additiveid'  style='width: 120px;' type='hidden' value=" + item.additiveid + " /></td>";
                    var AllocAdditive = "<td><input class='form-control' id='txtpolishadd" + index + "' name='PFCPOLILst[" + index + "].add'  style='width: 60px;' type='text' value=" + item.add + " readonly='True' /><input class='form-control' id='hdpolishadd" + index + "' name='PFCPOLILst[" + index + "].add'   type='hidden' value=" + item.add + " /></td>";

                    var RawMat = "<td><label style='width: 120px;'>" + item.rawmat + "</label><input class='form-control' id='txtpolishrawmat" + index + "' name='PFCPOLILst[" + index + "].rawmatid'  style='width: 120px;' type='hidden' value=" + item.rawmatid + " /></td>";

                    var ReqPer = "<td><input class='form-control' id='txtpolishreqper" + index + "' name='PFCPOLILst[" + index + "].reqper'  style='width: 120px;' type='text' readonly='True' value=" + item.reqper + " /><input class='form-control' id='hdpolishreqper" + index + "' name='PFCPOLILst[" + index + "].reqper'   type='hidden' value=" + item.reqper + " /></td>";
                    var RvdQty = "<td><input class='form-control' id='txtpolishrvdqty" + index + "' name='PFCPOLILst[" + index + "].rvdqty'  style='width: 120px;' type='text' readonly='True' value=" + item.rvdqty + "  /></td>";
                    var PyroPowder = "<td><input class='form-control' id='txtpolishpowder" + index + "' name='PFCPOLILst[" + index + "].polishpowder'  style='width: 120px;' type='text' readonly='True' /></td>";
                    var PyroQty = "<td><input class='form-control' id='txtpolishqty" + index + "' name='PFCPOLILst[" + index + "].pyroqty'  style='width: 120px;' type='text'  readonly='True' value=" + item.pyroqty + " /></td>";
                    var PowderRequired = "<td><input class='form-control' id='txtpolishpowerreq" + index + "' name='PFCPOLILst[" + index + "].PowderRequired'  style='width: 120px;' type='text' readonly='True' /><input class='form-control' id='hdpolishpowerreq" + index + "' name='PFCPOLILst[" + index + "].PowderRequired'   type='hidden'  /></td>";



                    var newRow = "<tr class='chkitemlst3'  style='height: 30px;border-bottom: 1px dashed #ddd;'  id='trBook3" + index + "'>" + Work + WCDays + ItemId + Target + Capacity + Stock + Min + Required + Days + Additive + AllocAdditive + RawMat + ReqPer + RvdQty + PyroPowder + PyroQty + PowderRequired + "</tr>";



                    $("#tbBooks3").append(newRow);


                    ////////////rvd

                    if(eval(item.required) > 0)
                    {

                    var rindex = $("#tbBooks4").children("tr").length;

                    var rWork = "<td><select style = 'width: 200px;' class='form-control _select newcss' id='ddlPWorkId" + rindex + "' name='PFCRVDLst[" + rindex + "].workid'  onchange='rvdwcchange(" + rindex + ",this.value)' ><option value=''>-- Please select -- </option>" + rvdopt + "</select></td>";

                    var rWCDays = "<td><input class='form-control' id='txtwcdays" + rindex + "' name='PFCRVDLst[" + rindex + "].wcdays'  style='width: 80px;' type='text'    /></td>";

                            var rItemId = "<td><label style='width: 120px;'>" + item.rawmat + "</label><input id='txtrvdItemId" + index + "' name='PFCRVDLst[" + index + "].saveitemid' type='hidden'  value=" + item.rawmatid + "></td>";

                    var Prodqty = "<td><input class='form-control' id='txtrvdprodqty" + rindex + "' name='PFCRVDLst[" + rindex + "].prodqty'  style='width: 100px;' type='text' readonly='True'  value=" + item.required + " /><input type='hidden' value=" + item.required + " id='hdrvdprodqty" + rindex + "' name='PFCRVDLst[" + rindex + "].prodqty'></td>";

                       var Days = "<td><input class='form-control' id='txtrvddays" + rindex + "' name='PFCRVDLst[" + rindex + "].days'  style='width: 120px;' type='text' /><input type='hidden'  id='hdrvdcapacity" + rindex + "' name='PFCRVDLst[" + rindex + "].capacity'></td>";

                   var Cons = "<td><label style='width: 120px;'>" + item.consmat + "</label><input id='txtrvdconsmatid" + index + "' name='PFCRVDLst[" + index + "].consmatid' type='hidden'  value=" + item.consmatid + "></td>";
                    
                    var consqty = "<td><input class='form-control' id='txtconsqty" + rindex + "' name='PFCRVDLst[" + rindex + "].consqty'  style='width: 80px;' type='text' type='hidden' value=" + item.consqty + " readonly='True' /><input type='hidden' value=" + item.consqty + " id='hdconsqty" + rindex + "' name='PFCRVDLst[" + rindex + "].consqty'></td>";

                        var RawMat = "<td><label style='width: 120px;'>" + item.rvdrawmat + "</label><input id='txtrvdrawid" + index + "' name='PFCRVDLst[" + index + "].rawmat' type='hidden'  value=" + item.rvdrawmatid + "></td>";

                            var Qty = "<td><input class='form-control' id='txtrvdrawqty" + rindex + "' name='PFCRVDLst[" + rindex + "].qty'  style='width: 80px;' type='text' type='hidden' value=" + item.rvdrawmatqty + " readonly='True' /><input type='hidden' value=" + item.rvdrawmatqty + " id='hdrvdrawqty" + rindex + "' name='PFCRVDLst[" + rindex + "].qty'></td>";


        var Mto = "<td><input class='form-control' id='txtmto" + rindex + "' name='PFCRVDLst[" + rindex + "].mto'  style='width: 100px;' type='text' readonly='True' value=" + item.rvdmtorec + " /></td>";
            var MtoLoss = "<td><input class='form-control' id='txtmtoloss" + rindex + "' name='PFCRVDLst[" + rindex + "].mtoloss'  style='width: 100px;' type='text' readonly='True' value=" + item.rvdmtoloss + " /></td>";
       var PowderRequired = "<td><input class='form-control' id='txtrvdpowerreq" + rindex + "' name='PFCRVDLst[" + rindex + "].powderrequired'  style='width: 100px;' type='text' readonly='True'  /><input type='hidden'  id='hdrvdpowerreq" + rindex + "' name='PFCRVDLst[" + rindex + "].powderrequired'></td>";

        var newRow = "<tr class='chkitemlst4'  style='height: 30px;border-bottom: 1px dashed #ddd;'  id='trBook4" + rindex + "'>" + rWork + rWCDays + rItemId + Prodqty + Days + Cons + consqty + RawMat + Qty + Mto + MtoLoss  + PowderRequired + "</tr>";



                    $("#tbBooks4").append(newRow);

                         $('._select').select2();
                        }

                });
            },

        });

        @* $.ajax({
            url: 'GetRVDForecast',
            type: "post",
            data: { "mnth": mnth, "type": type },
            cache: false,

            success: function (list) {
                list.forEach((item) => {

                    var index = $("#tbBooks4").children("tr").length;

                    var Work = "<td><select style = 'width: 200px;' class='form-control _select newcss' id='ddlPWorkId" + index + "' name='PFCRVDLst[" + index + "].workid'  ><option value=''>-- Please select -- </option>" + rvdopt + "</select></td>";

                    var WCDays = "<td><input class='form-control' id='txtwcdays" + index + "' name='PFCRVDLst[" + index + "].wcdays'  style='width: 100px;' type='text'    /></td>";

                    var ItemId = "<td><input  class='form-control' id='txtItemId" + index + "' name='PFCRVDLst[" + index + "].itemid' type='text'   /></td>";

                    var Prodqty = "<td><input class='form-control' id='txtprodqty" + index + "' name='PFCRVDLst[" + index + "].prodqty'  style='width: 100px;' type='text'   /><input type='hidden' value=" + item.target + " id='txtTarget" + index + "' name='PFCRVDLst[" + index + "].target'></td>";

                   var Days = "<td><input class='form-control' id='txtdays" + index + "' name='PFCRVDLst[" + index + "].days'  style='width: 120px;' type='text' /></td>";
                           var Cons = "<td><input class='form-control' id='txtcons" + index + "' name='PFCRVDLst[" + index + "].cons'  style='width: 120px;' type='text' /></td>";
                    var consqty = "<td><input class='form-control' id='txtconsqty" + index + "' name='PFCRVDLst[" + index + "].consqty'  style='width: 120px;' type='text' /></td>";

                    var RawMat = "<td><input class='form-control' id='txtrawmat" + index + "' name='PFCRVDLst[" + index + "].rawmat'  style='width: 120px;' type='text' /></td>";

                        var Qty = "<td><input class='form-control' id='txtqty" + index + "' name='PFCRVDLst[" + index + "].qty'  style='width: 120px;' type='text' /></td>";
        var Mto = "<td><input class='form-control' id='txtmto" + index + "' name='PFCRVDLst[" + index + "].mto'  style='width: 120px;' type='text' /></td>";
        var MtoLoss = "<td><input class='form-control' id='txtmtoloss" + index + "' name='PFCRVDLst[" + index + "].mtoloss'  style='width: 120px;' type='text' /></td>";
       var PowderRequired = "<td><input class='form-control' id='txtpowderrequired" + index + "' name='PFCRVDLst[" + index + "].PowderRequired'  style='width: 120px;' type='text' /></td>";


                    var newRow = "<tr class='chkitemlst4'  style='height: 30px;border-bottom: 1px dashed #ddd;'  id='trBook4" + index + "'>" + Work + WCDays + ItemId + Prodqty + Days + Cons + consqty + RawMat + Qty + Mto + MtoLoss  + PowderRequired + "</tr>";



                    $("#tbBooks4").append(newRow);
                });
            },

        });*@
          $.ajax({
            url: 'GetPasteForecast',
            type: "post",
            data: { "mnth": mnth, "type": type },
            cache: false,

            success: function (list) {
                list.forEach((item) => {

                    var index = $("#tbBooks5").children("tr").length;

                    var WC = "<td><select style = 'width: 200px;' class='form-control _select newcss' id='ddlWorkId" + index + "' name='PFCPASTELst[" + index + "].WorkId' onchange='pastewcchange(" + index + ",this.value)'  ><option value=''>-- Please select -- </option>" + pasteopt + "</select></td>";

                    var cday = "<td><input class='form-control' id='txtCpasteDays" + index + "' name='PFCPASTELst[" + index + "].CDays'  style='width: 100px;' type='text'    /></td>";

                    var ItemId = "<td><label style='width: 120px;'>" + item.itemid + "</label><input id='txtpasteItemId" + index + "' name='PFCPASTELst[" + index + "].saveitemid' type='hidden'  value=" + item.saveitemid + "></td>";

                    var Charge = "<td><input class='form-control' id='txtpastecharge" + index + "' name='PFCPASTELst[" + index + "].charge'  style='width: 100px;' type='text'  readonly='True'    /><input type='hidden' value=" + item.target + " id='hdpastecharge" + index + "' name='PFCPASTELst[" + index + "].charge'></td>";
                    var Target = "<td><input class='form-control' id='txtpasteTarget" + index + "' name='PFCPASTELst[" + index + "].target'  style='width: 100px;' type='text'  readonly='True'  value=" + item.target + " /><input type='hidden' value=" + item.target + " id='hdpasteTarget" + index + "' name='PFCPASTELst[" + index + "].target'></td>";
                    var Stock = "<td><input class='form-control' id='txtpasteStock" + index + "' name='PFCPASTELst[" + index + "].stock'  style='width: 100px;' type='text' readonly='True'  value=" + item.stock + " /><input class='form-control' id='hdpasteStock" + index + "' name='PFCPASTELst[" + index + "].stock'  style='width: 60px;' type='hidden' readonly='True'  value=" + item.stock + " /></td>";

                    var Min = "<td><input class='form-control' id='txtpasteMinStock" + index + "' name='PFCPASTELst[" + index + "].minstock'  style='width: 100px;' type='text' readonly='True' value=" + item.minstock + "   /><input class='form-control' id='hdpasteMinStock" + index + "' name='PFCPASTELst[" + index + "].minstock'   type='hidden' readonly='True' value=" + item.minstock + "  /></td>";


                    var Required = "<td><input class='form-control' id='txtpasteRequired" + index + "' name='PFCPASTELst[" + index + "].required'  style='width: 100px;' type='text' readonly='True'  value=" + item.required + " /><input class='form-control' id='hdpasteRequired" + index + "' name='PFCPASTELst[" + index + "].required'  type='hidden' value=" + item.required + " /></td>";
                    var prodday = "<td><input class='form-control' id='txtpasteproddays" + index + "' name='PFCPASTELst[" + index + "].proddays'  style='width: 100px;' type='text' /><input class='form-control' id='hdpastecapacity" + index + "'  type='hidden'  /></td>";
                    var Production = "<td><input class='form-control' id='txtpprod" + index + "' name='PFCPASTELst[" + index + "].production'  style='width: 100px;' type='text' readonly='True' /><input class='form-control' id='hdpprod" + index + "' name='PFCPASTELst[" + index + "].production'  type='hidden'  /></td>";

                        var ApPowder = "<td><input class='form-control' id='txtappowder" + index + "' name='PFCPASTELst[" + index + "].appowder'  style='width: 120px;' type='text' readonly='True' /><input class='form-control' id='hdappowder" + index + "' name='PFCPASTELst[" + index + "].appowder'  type='hidden'  /></td>";
                    var Balance = "<td><input class='form-control' id='txtpbal" + index + "' name='PFCPASTELst[" + index + "].balance'  style='width: 100px;' type='text'  readonly='True' /><input class='form-control' id='hdpbal" + index + "' name='PFCPASTELst[" + index + "].balance'  type='hidden'  /></td>";
                    var Additive = "<td> <label style='width: 120px;'>" + item.additive + "</label><input class='form-control' id='txtAdditive" + index + "' name='PFCPASTELst[" + index + "].additiveid'  style='width: 120px;' type='hidden' value=" + item.additiveid + " /></td>";
                    var AllocAdditive = "<td><input class='form-control' id='txtAllocAdditive" + index + "' name='PFCPASTELst[" + index + "].AllocAdditive'  style='width: 120px;' type='text' readonly='True' value=" + item.allocadditive + " /><input class='form-control' id='hdAllocAdditive" + index + "' name='PFCPASTELst[" + index + "].allocadditive'  type='hidden' value=" + item.allocadditive + " /></td>";

                    var Toprod = "<td><input class='form-control' id='txttoprod" + index + "' name='PFCPASTELst[" + index + "].toprod'  style='width: 120px;' type='text' readonly='True' /><input class='form-control' id='hdtoprod" + index + "' name='PFCPASTELst[" + index + "].toprod'  type='hidden'  /></td>";
        var RvdLoss = "<td><input class='form-control' id='txtrvdloss" + index + "' name='PFCPASTELst[" + index + "].rvdloss'  style='width: 120px;' type='text' readonly='True' /><input class='form-control' id='hdrvdloss" + index + "' name='PFCPASTELst[" + index + "].rvdloss'  type='hidden'  /><input class='form-control' id='hdrvdlossqty" + index + "'  type='hidden'  /></td>";
         var ToLoss = "<td><input class='form-control' id='txtpmtoloss" + index + "' name='PFCPASTELst[" + index + "].toloss'  style='width: 120px;' type='text' readonly='True' /><input class='form-control' id='hdpmtoloss" + index + "' name='PFCPASTELst[" + index + "].toloss'  type='hidden'  /><input class='form-control' id='hdmtolossqty" + index + "'  type='hidden'  /></td>";
                    var coarse = "<td><input class='form-control' id='txtcoarse" + index + "' name='PFCPASTELst[" + index + "].coarse'  style='width: 120px;' type='text' readonly='True' /><input class='form-control' id='hdcoarse" + index + "' name='PFCPASTELst[" + index + "].coarse'  type='hidden'  /></td>";
                    var Mixing = "<td><input class='form-control' id='txtmissmto" + index + "' name='PFCPASTELst[" + index + "].missmto'  style='width: 120px;' type='text' readonly='True' /><input class='form-control' id='hdmissmto" + index + "' name='PFCPASTELst[" + index + "].missmto'  type='hidden'  /></td>";
       
                    var toreq = "<td><input class='form-control' id='txtpastetoreq" + index + "' name='PFCPASTELst[" + index + "].toreq'  style='width: 120px;' type='text' readonly='True' /><input class='form-control' id='hdpastetoreq" + index + "' name='PFCPASTELst[" + index + "].toreq'  type='hidden'  /></td>";
                    var AddCost = "<td><input class='form-control' id='txtpasteaddcost" + index + "' name='PFCPASTELst[" + index + "].addcost'  style='width: 120px;' type='text' readonly='True' /><input class='form-control' id='hdpasteaddcost" + index + "' name='PFCPASTELst[" + index + "].addcost'  type='hidden'  /><input class='form-control' id='hdpaaddpurpri" + index + "' name='PFCPASTELst[" + index + "].paaddpurpri'  type='hidden'  value=" + item.paaddpurpri + " /></td>";
                    var mtocost = "<td><input class='form-control' id='txtpastemtocost" + index + "' name='PFCPASTELst[" + index + "].mtocost'  style='width: 120px;' type='text' readonly='True' /><input class='form-control' id='hdpastemtocost" + index + "' name='PFCPASTELst[" + index + "].mtocost'  type='hidden'  /><input class='form-control' id='hdmtopurpri" + index + "' name='PFCPASTELst[" + index + "].mtopurpri'  type='hidden' value=" + item.mtopurpri + " /></td>";
                    
                    
                    var PowderRequired = "<td><input class='form-control' id='txtpastepowerreq" + index + "' name='PFCPASTELst[" + index + "].powderrequired'  style='width: 100px;' type='text' readonly='True'  /><input type='hidden'  id='hdpastepowerreq" + index + "' name='PFCPASTELst[" + index + "].powderrequired'></td>";


                    var newRow = "<tr class='chkitemlst5'  style='height: 30px;border-bottom: 1px dashed #ddd;'  id='trBook5" + index + "'>" + WC + cday + ItemId +Charge+ Target +Stock+ Min  + Required + prodday + Production + ApPowder + Balance + Additive + AllocAdditive + Toprod + RvdLoss + ToLoss + coarse + Mixing + toreq + AddCost + mtocost + PowderRequired + "</tr>";



                    $("#tbBooks5").append(newRow);
                });
            },

        });

         $.ajax({
            url: 'GetAPForecast',
            type: "post",
            data: { "mnth": mnth, "type": type },
            cache: false,

            success: function (list) {
                list.forEach((item) => {

                    var index = $("#tbBooks6").children("tr").length;

                    var Work = "<td><select style = 'width: 200px;' class='form-control _select newcss' id='ddlPWorkId" + index + "' name='PFCAPPRODLst[" + index + "].WorkId'  ><option value=''>-- Please select -- </option>" + opt + "</select></td>";

                    var WCDays = "<td><input class='form-control' id='txtwdays" + index + "' name='PFCAPPRODLst[" + index + "].wdays'  style='width: 100px;' type='text'    /></td>";

                    var Capacity = "<td> <input  class='form-control' id='txtcapacity" + index + "' name='PFCAPPRODLst[" + index + "].capacity' type='text'   ></td>";

                    var Prodtarget = "<td><input class='form-control' id='txttarget" + index + "' name='PFCAPPRODLst[" + index + "].target'  style='width: 100px;' type='text'    /></td>";

                   var ProdDays = "<td><input class='form-control' id='txtproddays" + index + "' name='PFCAPPRODLst[" + index + "].proddays'  style='width: 120px;' type='text' /></td>";
                    var Production = "<td><input class='form-control' id='txtproduction" + index + "' name='PFCAPPRODLst[" + index + "].production'  style='width: 120px;' type='text' /></td>";
                    var FuelReq = "<td><input class='form-control' id='txtfuelreq" + index + "' name='PFCAPPRODLst[" + index + "].fuelreq'  style='width: 120px;' type='text' /></td>";

                    var Ingotreq = "<td><input class='form-control' id='txtingotreq" + index + "' name='PFCAPPRODLst[" + index + "].ingotreq'  style='width: 120px;' type='text' /></td>";

                    var PowerReq = "<td><input class='form-control' id='txtpowerrequired" + index + "' name='PFCAPPRODLst[" + index + "].powerrequired'  style='width: 120px;' type='text' /></td>";
        

                    var newRow = "<tr class='chkitemlst6'  style='height: 30px;border-bottom: 1px dashed #ddd;'  id='trBook6" + index + "'>" + Work + WCDays + Capacity + Prodtarget + ProdDays + Production + FuelReq + Ingotreq + PowerReq + "</tr>";



                    $("#tbBooks6").append(newRow);
                });
            },

        });

     $.ajax({
            type: "POST",
            url: 'GetPartyJSON',
            success: function (data) {
                $.each(data, function () {
                    par += "<option value=" + this.value + ">" + this.text + "</option>";

                });

            }
        })
        $.ajax({
            url: 'GetPackingForecast',
            type: "post",
            data: { "mnth": mnth, "type": type },
            cache: false,

            success: function (list) {
                list.forEach((item) => {

                    var index = $("#tbBooks7").children("tr").length;

                    @*var party = "<td><select style = 'width: 200px;' class='form-control _select newcss' id='ddlparty" + index + "' name='PFCAPPRODLst[" + index + "].party '  ><option value=''>-- Please select -- </option>" + par + "</select></td>";*@
                                                        var party = "<td> <label>" + item.party + "</label><input class='form-control' id='txttargetitem" + index + "' name='PFCPACKLst[" + index + "].partyid'  style='width: 100px;' type='hidden'  value=" + item.partyid + "   /></td>";

                    var TargetItem = "<td> <label>" + item.targetitem + "</label><input class='form-control' id='txttargetitem" + index + "' name='PFCPACKLst[" + index + "].saveitemid'  style='width: 100px;' type='hidden'  value=" + item.saveitemid +"   /></td>";

                    var TargetQty = "<td><input class='form-control' style='width: 120px;' id='txttargetqty" + index + "' name='PFCPACKLst[" + index + "].targetqty' type='text'  value=" + item.targetqty + " readonly='True' /></td>";

                    var Rawmat = "<td> <label>" + item.rawmat + "</label><input class='form-control' id='txtrawmat" + index + "' name='PFCPACKLst[" + index + "].rawmatid'  style='width: 100px;' type='hidden'    value=" + item.rawmatid + " /></td>";

                   var PackingMat = "<td> <label>" + item.packmat + "</label><input class='form-control' id='txtpackmat" + index + "' name='PFCPACKLst[" + index + "].packmatid'  style='width: 120px;' type='hidden'  value=" + item.packmatid + " /></td>";
                    var Packingqty = "<td><input class='form-control' id='txtpackqty" + index + "' name='PFCPACKLst[" + index + "].packqty'  style='width: 120px;' type='text' value=" + item.packqty + " readonly='True' /></td>";
                    var reqmat = eval(item.targetqty) - eval(item.packqty);
                        var ReqMat = "<td><input class='form-control' id='txtreqmat" + index + "' name='PFCPACKLst[" + index + "].reqmat'  style='width: 120px;' type='text' value=" + reqmat + " readonly='True' /></td>";

                   
                    var newRow = "<tr class='chkitemlst7'  style='height: 30px;border-bottom: 1px dashed #ddd;'  id='trBook7" + index + "'>" + party + TargetItem + TargetQty + Rawmat + PackingMat + Packingqty + ReqMat + "</tr>";



                    $("#tbBooks7").append(newRow);
                });
            },

        });
            }

 function addpyrorow(index,itemid ){
               var newindex=document.getElementById("hdpyrocunt").value;
               var opt="";
                 $.ajax({
            type: "POST",
            url: 'GetWCJSON',
            success: function (data) {
               // alert(data);
                $.each(data, function () {
                    opt += "<option value=" + this.value + ">" + this.text + "</option>";

                });
                AppendPyroRow(index,itemid,opt);
            }
        });
        }


    function AppendPyroRow(index, itemid, opt) {
               var newindex=document.getElementById("hdpyrocunt").value;
              

        var itemname = document.getElementById("txtItemname" + index).innerHTML
        var targetr=document.getElementById("txtpyroTarget" + index).value;
      
         var minstock=document.getElementById("txtpyroMinStock" + index).value;
          var stock=document.getElementById("txtpyroStock" + index).value;
           var required=document.getElementById("txtpyroRequired" + index).value;

 var pastrej = document.getElementById("txtpasterej" + index).value;
        var regqty=document.getElementById("txtrejqty" + index).value;
         var balanceqty=document.getElementById("txtbalanceqty" + index).value;

        var additive = document.getElementById("txtAdditive" + index).innerHTML;
        var additiveid=document.getElementById("txtAdditiveID" + index).value;
         var per=document.getElementById("txtPer" + index).value;
             var regma=document.getElementById("txtrejmat" + index).value;
        


           var addrow = "<td><a href='#' aria-hidden='true' onclick='removepyrorow(" + index + "," + newindex + ")' ><img src='../Images/delete.png' alt='View Details' width='15' /></a></td>";

        var WC = "<td><select style = 'width: 200px;' class='form-control _select newcss' id='ddlWorkId" + newindex + "' name='PFCPYROILst[" + newindex + "].WorkId' onchange='pyrowcchange(" + newindex + ",this.value)' ><option value=''>-- Please select -- </option>" + opt + "</select></td>";

        var pend = "<td><input class='form-control' id='txtCDays" + newindex + "' name='PFCPYROILst[" + newindex + "].CDays'  style='width: 100px;' type='text'    /></td>";

        var ItemId = "<td><label style='width: 120px;' id='txtItemname" + newindex + "' >" + itemname + "</label><input id='txtItemId" + newindex + "' name='PFCPYROILst[" + newindex + "].saveitemid' type='hidden'  value=" + itemid + "></td>";


                    var Target = "<td><input class='form-control' id='txtspyroTarget" + newindex + "' name='PFCPYROILst[" + newindex + "].target'  style='width: 100px;' type='text'  readonly='True'  value=" + targetr + " /><input type='hidden' value=" + targetr + " id='txtpyroTarget" + newindex + "' name='PFCPYROILst[" + newindex + "].target'></td>";

                    var Min = "<td><input class='form-control' id='txtspyroMinStock" + newindex + "' name='PFCPYROILst[" + newindex + "].minstock'  style='width: 100px;' type='text' readonly='True' value=" + minstock + "   /><input class='form-control' id='txtpyroMinStock" + newindex + "' name='PFCPYROILst[" + newindex + "].minstock'  style='width: 80px;' type='hidden' readonly='True' value=" + minstock + "  /></td>";

                    var Stock = "<td><input class='form-control' id='txtspyroStock" + newindex + "' name='PFCPYROILst[" + newindex + "].stock'  style='width: 100px;' type='text' readonly='True'  value=" + stock + " /><input class='form-control' id='txtpyroStock" + newindex + "' name='PFCPYROILst[" + newindex + "].stock'  style='width: 60px;' type='hidden' readonly='True'  value=" + stock + " /></td>";

                    var Required = "<td><input class='form-control' id='txtspyroRequired" + newindex + "' name='PFCPYROILst[" + newindex + "].required'  style='width: 100px;' type='text' readonly='True'  value=" + required + " /><input class='form-control' id='txtpyroRequired" + newindex + "' name='PFCPYROILst[" + newindex + "].required'  style='width: 60px;' type='hidden' readonly='True'  value=" + required + " /></td>";
                   var PasteRej = "<td><input class='form-control' id='txtspasterej" + newindex + "' name='PFCPYROILst[" + newindex + "].pasterej'  style='width: 100px;' type='text' value=" + pastrej + " readonly='True' ><input id='txtpasterej" + newindex + "' name='PFCPYROILst[" + newindex + "].pasterej'   type='hidden'   value=" + pastrej + " /></td>";
                    var RejQty = "<td><input class='form-control' id='txtsrejqty" + newindex + "' name='PFCPYROILst[" + newindex + "].rejqty'  style='width: 100px;' type='text' value=" + regqty + " readonly='True' ><input id='txtrejqty" + newindex + "' name='PFCPYROILst[" + newindex + "].rejqty'   type='hidden'   value=" + regqty + " /></td>";
                    var targethrs = "<td><input class='form-control' id='txtstargethrs" + newindex + "' name='PFCPYROILst[" + newindex + "].targethrs'  style='width: 100px;' type='text'  readonly='True'  /> <input id='txttargethrs" + newindex + "' name='PFCPYROILst[" + newindex + "].targethrs'   type='hidden' /></td>";
                    var ProdDays = "<td><input class='form-control' id='txtproddays" + newindex + "' name='PFCPYROILst[" + newindex + "].proddays'  style='width: 100px;' type='text' onkeyup = 'changepyrodays(this," + newindex + ")' /></td>";
                    var ProdQty = "<td><input class='form-control' id='txtsprodqty" + newindex + "' name='PFCPYROILst[" + newindex + "].prodqty'  style='width: 100px;' type='text'  readonly='True' /><input id='txtprodqty" + newindex + "' name='PFCPYROILst[" + newindex + "].prodqty'   type='hidden' /></td>";
                      var RejMat = "<td><input class='form-control' id='txtsrejmat" + newindex + "' name='PFCPYROILst[" + newindex + "].rejmat'  style='width: 100px;' type='text' readonly='True' value=" + regma + " /><input id='txtrejmat" + newindex + "' name='PFCPYROILst[" + newindex + "].rejmat'   type='hidden' value=" + regma + " /></td>";
                    var RejMatReq = "<td><input class='form-control' id='txtsrejmatreq" + newindex + "' name='PFCPYROILst[" + newindex + "].rejmatreq'  style='width: 100px;' type='text' readonly='True' /><input id='txtrejmatreq" + newindex + "' name='PFCPYROILst[" + newindex + "].rejmatreq'   type='hidden' /></td>";

                    var BalanceQty = "<td><input class='form-control' id='txtsbalanceqty" + newindex + "' name='PFCPYROILst[" + newindex + "].balanceqty'  style='width: 100px;' type='text' value=" + balanceqty + " readonly='True' /><input id='txtbalanceqty" + newindex + "' name='PFCPYROILst[" + newindex + "].balanceqty'   type='hidden'   value=" + balanceqty + " /></td>";
                    var Additive = "<td><label style='width: 120px;'>" + additive + "</label><input class='form-control' id='txtAdditiveID" + newindex + "' name='PFCPYROILst[" + newindex + "].additiveid'  style='width: 120px;' type='hidden' value=" + additiveid + " /></td>";
                    var Per = "<td><input class='form-control' id='txtsPer" + newindex + "' name='PFCPYROILst[" + newindex + "].per'  style='width: 60px;' type='text' value=" + per + " readonly='True' ><input id='txtPer" + newindex + "' name='PFCPYROILst[" + newindex + "].per'   type='hidden'   value=" + per + " /></td>";
        var AllocAdditive = "<td><input class='form-control' id='txtsallocadditive" + newindex + "' name='PFCPYROILst[" + newindex + "].allocadditive'  style='width: 100px;' type='text' readonly='True'/><input id='txtallocadditive" + newindex + "' name='PFCPYROILst[" + newindex + "].allocadditive'   type='hidden'    /></td>";
        var ReqPowder = "<td><input class='form-control' id='txtsreqpowder" + newindex + "' name='PFCPYROILst[" + newindex + "].reqpowder'  style='width: 100px;' type='text' readonly='True' /><input id='txtreqpowder" + newindex + "' name='PFCPYROILst[" + newindex + "].reqpowder'   type='hidden'    /></td>";

                    var WStatus = "<td><input class='form-control' id='txtwstatus" + newindex + "' name='PFCPYROILst[" + newindex + "].wstatus'  style='width: 120px;' type='text' value='Pending' readonly='True' /></td>";
        var PowderRequired = "<td><input class='form-control' id='txtspyropowerreq" + newindex + "' name='PFCPYROILst[" + newindex + "].powderrequired'  style='width: 100px;' type='text' /><input id='txtpyropowerreq" + newindex + "' name='PFCPYROILst[" + newindex + "].powderrequired'   type='hidden'    /><input id='IsPyrovalid" + newindex + "' name='PFCPYROILst[" + newindex + "].Isvalid'   type='hidden'   /></td>";


        var newRow = "<tr class='chkitemlst2'  style='height: 30px;border-bottom: 1px dashed #ddd;'  id='trBookpyro" + newindex + "'>" + addrow + WC + pend + Target + ItemId +  Min + Stock +  PasteRej + RejQty + Required + targethrs + ProdDays + ProdQty + RejMat + RejMatReq + BalanceQty + Additive + Per + AllocAdditive + ReqPowder + WStatus + PowderRequired + "</tr>";

        
        $("#tbBooks2sub_"+index).append(newRow);

        $('._select').select2();
        document.getElementById("hdpyrocunt").value =eval(newindex) + 1;
            }
            function pyrowcchange(i,wcid){
                var itemid=document.getElementById("txtItemId"+i).value;
                // var target=document.getElementById("txtItemId"+i).value;
                $.ajax({
            url: 'GetpyrowcDetail',
            data: { "itemid": itemid,"wcid": wcid },
            type: "GET",
            success: function (result) {

            document.getElementById("txtstargethrs"+i).value = result.tar;
             document.getElementById("txttargethrs"+i).value = result.tar;

               document.getElementById("txtspyropowerreq" + i).value = result.powe;
                document.getElementById("txtpyropowerreq" + i).value = result.powe;
            
           // document.getElementById("txtAdd2").value = result.add2;
            },
            error: function () {
            alert("Data Not Found");
            }
            });



            }
    function polishwcchange(i, wcid) {
        var itemid = document.getElementById("txtpolishItemId" + i).value;
       // var capacity =0;
        $.ajax({
            url: 'GetpyrowcDetail',
            data: { "itemid": itemid, "wcid": wcid },
            type: "GET",
            success: function (result) {

                document.getElementById("txtpolishcapacity" + i).value = result.tar;
                document.getElementById("hdpolishcapacity" + i).value = result.tar;
                document.getElementById("txtpolishpowerreq" + i).value = result.powe;
                document.getElementById("hdpolishpowerreq" + i).value = result.powe;
                changepolishdays('', i);

            },
            error: function () {
                alert("Data Not Found");
            }
        });

                  }
                  function rvdwcchange(i, wcid){

                       var itemid = document.getElementById("txtrvdItemId" + i).value;
        $.ajax({
            url: 'GetpyrowcDetail',
            data: { "itemid": itemid, "wcid": wcid },
            type: "GET",
            success: function (result) {

              
                document.getElementById("hdrvdcapacity" + i).value = result.tar;
                document.getElementById("txtrvdpowerreq" + i).value = result.powe;
                document.getElementById("hdrvdpowerreq" + i).value = result.powe;
                changervddays('', i);

            },
            error: function () {
                alert("Data Not Found");
            }
        });
                     
                  }
      
            function removepyrorow(tabindex,index){
                var table = document.getElementById("pyrosub_"+tabindex);
        var rowCount = table.rows.length;
        var row = document.getElementById('trBookpyro' + index);
            row.style.display = "none";
            document.getElementById('IsPyrovalid' + index).value = "N";
            }
            function changepyrodays(_this,i){
                var prodday=document.getElementById("txtproddays"+i).value;
                var targethrs=document.getElementById("txttargethrs"+i).value;
                var rejqty=document.getElementById("txtrejqty"+i).value;
        var rejmatper = document.getElementById("txtrejmat" + i).value;
        var req = document.getElementById("txtpyroRequired" + i).value;
        var per = document.getElementById("txtPer" + i).value;
                var prodqty=0;
                 if (prodday == "")
                        prodday = 0;

if (targethrs == "")
                        targethrs = 0;

                        if (rejqty == "")
                        rejqty = 0;

                        if (rejmatper == "")
            rejmatper = 0;

             if (req == "")
            req = 0;

             if (per == "")
            per = 0;

                        prodqty = eval(targethrs) * eval(prodday);
                        var reqty=(eval(rejqty) + eval(prodqty));
        var rejmatqty = Math.ceil(eval(reqty) * (eval(rejmatper) / 100));
        var balqty = Math.ceil(eval(req) - eval(prodqty));
        var addtitive=eval(prodqty) * (eval(per) /100);
        var reqpower=eval(prodqty) -eval(addtitive);
                        document.getElementById("txtprodqty"+i).value=prodqty;
                            document.getElementById("txtsprodqty"+i).value=prodqty;
        document.getElementById("txtrejmatreq" + i).value = rejmatqty;
        document.getElementById("txtsrejmatreq" + i).value = rejmatqty;
        document.getElementById("txtbalanceqty" + i).value = balqty;
        document.getElementById("txtsbalanceqty" + i).value = balqty;
        document.getElementById("txtallocadditive" + i).value = Math.round(addtitive,2);
        document.getElementById("txtsallocadditive" + i).value = Math.round(addtitive, 2);
        document.getElementById("txtsreqpowder" + i).value = Math.ceil(reqpower);
        document.getElementById("txtreqpowder" + i).value = Math.ceil(reqpower);
            }

                          function changepolishdays(_this, i){
        var target = document.getElementById("hdpolishrequired" + i).value;
        var capacity = document.getElementById("hdpolishcapacity" + i).value;
        var power= document.getElementById("hdpolishpowerreq" + i).value;
        var days =0
        if (target == "")
            target = 0;

        if (capacity == "")
            capacity = 0;

             if (power == "")
            power = 0;
 if(eval(capacity) > 0){
        days = eval(target) / eval(capacity);
 }
        var kwhr = eval(target) * 22 * eval(power);
            document.getElementById("txtpolishdays" + i).value = Math.ceil(days);
        document.getElementById("hdpolishdays" + i).value = Math.ceil(days);
        document.getElementById("txtpolishrvdqty" + i).value = target;
        document.getElementById("txtpolishqty" + i).value = target;
        document.getElementById("hdpolishpowerreq" + i).value = Math.round(kwhr,2);
        document.getElementById("txtpolishpowerreq" + i).value = Math.round(kwhr,2);
    }
     function changervddays(_this, i){
        var target = document.getElementById("hdpolishrequired" + i).value;
        var capacity = document.getElementById("hdrvdcapacity" + i).value;
        var power= document.getElementById("hdrvdpowerreq" + i).value;
         var days =0;
        if (target == "")
            target = 0;

        if (capacity == "")
            capacity = 0;

             if (power == "")
            power = 0;

        if(eval(capacity) > 0){
            days = eval(target) / eval(capacity);
        }

        
        var kwhr = eval(target) * 22 * eval(power);
            document.getElementById("txtrvddays" + i).value = Math.ceil(days);
      //  document.getElementById("hdrvddays" + i).value = Math.ceil(days);
       
        document.getElementById("txtrvdpowerreq" + i).value = Math.round(kwhr,2);
        document.getElementById("hdrvdpowerreq" + i).value = Math.round(kwhr,2);
    }
    function pastewcchange(i, wcid){
          var itemid = document.getElementById("txtpasteItemId" + i).value;
          var mnth=document.getElementById("ddlmnth").value;
        $.ajax({
            url: 'GetpastewcDetail',
            data: { "itemid": itemid, "wcid": wcid ,"mnth" : mnth },
            type: "GET",
            success: function (result) {

              
                document.getElementById("hdpastecapacity" + i).value = result.tar;
                document.getElementById("txtpastepowerreq" + i).value = result.powe;
                document.getElementById("hdpastepowerreq" + i).value = result.powe;

                document.getElementById("txtappowder" + i).value = result.appowe;
                document.getElementById("hdappowder" + i).value = result.appowe;

                  document.getElementById("hdmtolossqty" + i).value = result.pamtoloss;
                document.getElementById("hdrvdlossqty" + i).value = result.rvdloss;

                changepastedays('', i);

            },
            error: function () {
                alert("Data Not Found");
            }
        });
    }
    function changepastedays(_this, i){
        var target = document.getElementById("hdpasteRequired" + i).value;
        var PaCapperChg = document.getElementById("hdpastecapacity" + i).value;
        var power= document.getElementById("hdpastepowerreq" + i).value;
        var PaapPow =document.getElementById("hdappowder" + i).value;
        var paaddper =document.getElementById("hdAllocAdditive" + i).value;
         var  PaMtoLoss=document.getElementById("hdmtolossqty" + i).value;
           var RvdLost =document.getElementById("hdrvdlossqty" + i).value ;
          var mtopurpri =document.getElementById("hdmtopurpri" + i).value ; 
          var paaddpurpri =document.getElementById("hdpaaddpurpri" + i).value ;

         var days =0;
         var panoofchg =0;
         var PaProd=0;
         var PaAllAddit =0;
         var RvdLostQty =0;
        if (target == "")
            target = 0;

        if (PaCapperChg == "")
            PaCapperChg = 0;

     if (power == "")
            power = 0;

            if (PaapPow == "")
            PaapPow = 0;

            if (RvdLost == "")
            RvdLost = 0;

            if (PaMtoLoss == "")
            PaMtoLoss = 0;

             if (mtopurpri == "")
            mtopurpri = 0;

             if (paaddpurpri == "")
            paaddpurpri = 0;

        if(eval(PaCapperChg) > 0){
            days = eval(target) / eval(PaCapperChg);
            panoofchg=eval(PaCapperChg) /210;
        }
            PaProd=eval(days)*eval(PaCapperChg);
        var pallappow =eval(panoofchg) * eval(PaapPow) *eval(days);

        var balqty=eval(target)-eval(PaProd);
            
        var kwhr = eval(target) * 22 * eval(power);

        var PaMtoLosst =(eval(PaMtoLoss) * eval(PaProd))/100; 

        PaAllAddit= eval(paaddper) * eval(pallappow) /100;

        var Rvdmtoloss=(eval(PaProd) * 5) /100;

        if( eval(Rvdmtoloss) > eval(RvdLost)){
            RvdLostQty=Rvdmtoloss;
        }else{
            RvdLostQty=RvdLost;
        }
        var PaCoaCons=(eval(panoofchg)*20*eval(days)*0.05) /0.765; 
        
        var MixingMto=(eval(PaProd) * 11.11)/100; 

        var PaMtoProd= eval(PaProd) -eval(pallappow);
       var  PaMtoProdt = (eval(PaMtoProd) /0.765);
       var PaAllMto=(eval(PaMtoProdt) + eval(PaMtoLosst) +eval(PaCoaCons) +eval(MixingMto) +eval(RvdLostQty) )/0.765;

       var PaAddC=(eval(paaddpurpri) * eval(PaAllAddit)) / eval(PaProd);
       var PaMtoC=(eval(mtopurpri) *eval(PaAllMto)) / eval(PaProd);

            document.getElementById("txtpasteproddays" + i).value = Math.ceil(days);
      document.getElementById("txtpastecharge" + i).value = panoofchg.toFixed(2); 
       document.getElementById("hdpastecharge" + i).value = panoofchg.toFixed(2);
        document.getElementById("txtpastepowerreq" + i).value =kwhr.toFixed(2); 
        document.getElementById("hdpastepowerreq" + i).value = kwhr.toFixed(2); 

         document.getElementById("txtpprod" + i).value =Math.round(PaProd);
            document.getElementById("hdpprod" + i).value = Math.round(PaProd);

            document.getElementById("txtpbal" + i).value =Math.round(balqty);
                document.getElementById("hdpbal" + i).value = Math.round(balqty);

                 document.getElementById("hdappowder" + i).value =Math.round(pallappow);
            document.getElementById("txtappowder" + i).value = Math.round(pallappow);

             document.getElementById("hdAllocAdditive" + i).value =Math.round(PaAllAddit);
            document.getElementById("txtAllocAdditive" + i).value = Math.round(PaAllAddit);

             document.getElementById("txtpmtoloss" + i).value =PaMtoLosst.toFixed(2); 
        document.getElementById("hdpmtoloss" + i).value = PaMtoLosst.toFixed(2); 

          document.getElementById("txtrvdloss" + i).value =RvdLostQty.toFixed(2); 
        document.getElementById("hdrvdloss" + i).value = RvdLostQty.toFixed(2); 

        document.getElementById("txtcoarse" + i).value =PaCoaCons.toFixed(2); 
        document.getElementById("hdcoarse" + i).value = PaCoaCons.toFixed(2); 

        document.getElementById("txtmissmto" + i).value =MixingMto.toFixed(2); 
        document.getElementById("hdmissmto" + i).value = MixingMto.toFixed(2);

         document.getElementById("txttoprod" + i).value =PaMtoProd.toFixed(2); 
        document.getElementById("hdtoprod" + i).value = PaMtoProd.toFixed(2);

          document.getElementById("txtpastetoreq" + i).value =Math.round(PaAllMto); 
        document.getElementById("hdpastetoreq" + i).value = Math.round(PaAllMto);

        document.getElementById("txtpasteaddcost" + i).value =PaAddC.toFixed(2); 
        document.getElementById("hdpasteaddcost" + i).value = PaAddC.toFixed(2);

        document.getElementById("txtpastemtocost" + i).value =PaMtoC.toFixed(2);
            document.getElementById("hdpastemtocost" + i).value = PaMtoC.toFixed(2);
        }
</script>